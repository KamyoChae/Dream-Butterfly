"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var InfoStart=function(){function t(e){_classCallCheck(this,t),this.score=e}return _createClass(t,[{key:"clickStart",value:function(){var e=document.querySelector(".startbtn"),o=this;e.addEventListener("click",function(){history.pushState({from:"index",to:"start"},null,"?start"),o.showWindow("start");var e=new ModelControl(3,".model");e.startInit(),e.run()}),window.addEventListener("popstate",function(e){if(e.state){var t=e.state.from,n=e.state.to;if(void 0,void 0,"index"===t&&"start"===n)void 0,document.querySelector(".return").style.zIndex="999";else history.pushState({from:n,to:t},null,"?"+t),o.showWindow(t)}})}},{key:"clickWorld",value:function(){var e=document.querySelector(".worldbtn"),t=this;e.addEventListener("click",function(){history.pushState({from:"index",to:"world"},null,"?world"),t.showWindow("world"),void 0,Nasa.query("n1pifG4soXjrRBFjJNWbEpqHQ8DzG8tNunc","getItems",[]).then(function(e){var t=e.execResult,o="";t.forEach(function(e,t){var n="";"string"==typeof e.user&&(n='<li>\n                                    <span class="world-index">'.concat(t+1,'</span>\n                                    <span class="world-addr">').concat(e.user,'</span>\n                                    <span class="world-score"><i class="red">').concat(e.score,"</i> åˆ†</span>\n                                </li>"),o+=n)}),document.querySelector(".list-world").innerHTML=o},function(e){void 0})})}},{key:"showWindow",value:function(e){var t={index:document.querySelector(".index"),start:document.querySelector(".start"),error:document.querySelector(".error"),help:document.querySelector(".help"),world:document.querySelector(".world")};for(var n in t)t[n].style.zIndex=e==n?"999":"-999"}},{key:"bindSend",value:function(n){document.querySelector(".oversend").addEventListener("click",function(){void 0,Nasa.user.getAddr().then(function(e){void 0;var t=e;Nasa.call("n1pifG4soXjrRBFjJNWbEpqHQ8DzG8tNunc","createItems",[n,t]).then(function(e){var t=e.payId;return void 0,Nasa.getTxResult(t)},function(e){void 0}).then(function(e){if(void 0,1===e.status){var t=e.execResult;t.content,t.publish_at,e.from}})},function(e){void 0,void 0})})}},{key:"run",value:function(){this.clickStart(),this.clickWorld()}}]),t}();