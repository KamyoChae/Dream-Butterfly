"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(f,l,g){if(!f.Nasa){var h=f;require=function i(a,u,s){function c(t,e){if(!u[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(f)return f(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=u[t]={exports:{}};a[t][0].call(o.exports,function(e){return c(a[t][1][e]||e)},o,o.exports,i,a,u,s)}return u[t].exports}for(var f="function"==typeof require&&require,e=0;e<s.length;e++)c(s[e]);return c}({1:[function(e,t,r){var n,o,i=((n=l.createElement("style")).type="text/css",l.head.appendChild(n),o=n.sheet,function(e,t,r){r=r||0,o.insertRule(e+"{"+t+"}",r)});t.exports={isChrome:function(){if(void 0!==f&&navigator.userAgent.toLowerCase().match(/chrome\/([\d\.]+)/))return!0;return!1},isMobile:function(){return-1<navigator.userAgent.toLowerCase().indexOf("mobile")},isNano:function(){return-1<navigator.userAgent.toLowerCase().indexOf("nasnanoapp")},isWechat:function(){return-1<navigator.userAgent.toLowerCase().indexOf("micromessenger")},randomCode:function(e){var t,r,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o="";for(t=0;t<e;t+=1)r=Math.random()*n.length,r=Math.floor(r),o+=n.charAt(r);return o},addCssRule:i}},{}],2:[function(e,t,r){var u=e("./config"),s=e("./Utils");t.exports=function(e,t){var r,n,o,i,a=u.nanoScheme(t.debug);a=a+"://virtual?params="+JSON.stringify(e),f.location.href=a,!s.isNano()&&t.mobile.showInstallTip&&(r=function(e){e||function(e){var t=l.createElement("BUTTON");t.className="install",t.innerHTML=e.mobile.installTip||"INSTALL NASNano/下载星云钱包";var r="text-align: center;    background-color: #000;    color: #fff;    border-radius: 20px;    width: 80%;    height: 40px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";s.addCssRule(".install",r);var n=l.createElement("div");n.className="install-background",r="position: fixed;\tbottom:0;\tz-index:1000;\theight:40px;    width:100%;\tbackground-color: rgba(0, 0, 0, 0);",s.addCssRule(".install-background",r),n.appendChild(t);var o=l.getElementsByTagName("body")[0];o.appendChild(n),t.onclick=function(){o.removeChild(n),n=null,f.location.href="https://nano.nebulas.io/"}}(t)},o=+new Date,i=0,n=setInterval(function(){i++;var e=+new Date-o;(100<=i||3e3<e)&&(clearInterval(n),r(3e3<e||l.hidden||l.webkitHidden?1:0))},20))}},{"./Utils":1,"./config":3}],3:[function(e,t,r){var n="https://pay.nebulas.io/api/mainnet/pay",o="https://pay.nebulas.io/api/pay";t.exports={payUrl:function(e){return(e=e||!1)?o:n},nanoScheme:function(e){return(e=e||!1)?"openapp.NASnano.testnet":"openapp.NASnano"},mainnetUrl:n,testnetUrl:o}},{}],4:[function(e,t,r){var n={};f.addEventListener("message",function(e){if(void 0,"content"===e.data.src){var t=e.data.serialNumber,r=n[t];"function"==typeof r&&r(t,e.data.resp)}}),t.exports=function(e){e.listener&&(n[e.serialNumber]=e.listener),e.listener=g,f.postMessage({src:"nebPay",logo:"nebulas",params:e},"*")}},{}],5:[function(e,t,r){var n=function(n){return new Promise(function(e,t){var r=new XMLHttpRequest;r.open(n.method||"GET",n.url),n.headers&&Object.keys(n.headers).forEach(function(e){r.setRequestHeader(e,n.headers[e])}),r.onload=function(){200<=r.status&&r.status<300?e(r.response):t(r.statusText)},r.onerror=function(){return t(r.statusText)},r.send(n.body)})};t.exports={get:function(e,t){return n({url:e,method:"GET",body:t})},post:function(e,t){return n({url:e,method:"POST",body:t})},request:n}},{}],6:[function(e,t,r){var s=e("bignumber.js"),c=e("./Utils"),f=e("./qrcode"),l=e("./extensionHandler"),d=e("./appHandler"),h=e("./config"),n=function(e,t){this.appKey=e,this.appSecret=t};n.prototype={submit:function(e,t,r,n,o){o.serialNumber=c.randomCode(32);var i=new s(r=r||"0").times("1000000000000000000"),a={serialNumber:o.serialNumber,goods:o.goods,pay:{currency:e,to:t,value:i.toString(10),payload:n},callback:o.callback||h.payUrl(o.debug),listener:o.listener,nrc20:o.nrc20};c.isChrome()&&!c.isMobile()&&o.extension.openExtension&&l(a);var u={category:"jump",des:"confirmTransfer",pageParams:a};return c.isMobile()&&d(u,o),o.qrcode.showQRCode&&!c.isNano()&&f.showQRCode(JSON.stringify(u),o),o.serialNumber}},t.exports=n},{"./Utils":1,"./appHandler":2,"./config":3,"./extensionHandler":4,"./qrcode":7,"bignumber.js":8}],7:[function(e,t,r){var n=e("qrcode"),s=e("./Utils"),c=function(e,t){void 0!==t.listener&&t.listener(t.serialNumber,e)};t.exports={showQRCode:function(e,t){if(void 0!==f){var r=t.qrcode.container;void 0===r&&(r=function(e){var t=l.createElement("canvas");t.className="qrcode",s.addCssRule(".qrcode","box-shadow: 2px 2px 12px lightgray;");var r=l.createElement("div");r.className="qrcode-container";var n="text-align: center;    background-color: #fff0;    border-radius: 20px;    width: 300px;    height: 300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";s.addCssRule(".qrcode-container",n),r.appendChild(t);var o=l.createElement("BUTTON");o.className="complete",o.innerHTML=e.qrcode.completeTip||"COMPLETE/完成支付",n="background-color: #000;\tborder-radius: 4px;\twidth: 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 20px;\tcolor: #fff;\t",s.addCssRule(".complete",n),r.appendChild(o);var i=l.createElement("BUTTON");i.className="cancel",i.innerHTML=e.qrcode.cancelTip||"CANCEL/取消支付",n="background-color: #666;\tborder-radius: 4px;\twidth: 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 10px;\tmargin-bottom: 20px;\tcolor: #fff;\t",s.addCssRule(".cancel",n),r.appendChild(i);var a=l.createElement("div");a.className="qrcode-background",n="position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);",s.addCssRule(".qrcode-background",n),a.appendChild(r);var u=l.getElementsByTagName("body")[0];return u.appendChild(a),a.onclick=function(){null!==a&&(u.removeChild(a),c(!1,e))},i.onclick=function(){u.removeChild(a),a=null,c(!1,e)},o.onclick=function(){u.removeChild(a),c(!(a=null),e)},t}(t)),n.toCanvas(r,e,function(e){e&&void 0})}}}},{"./Utils":1,qrcode:13}],8:[function(e,r,t){!function(e){function B(e){var t=0|e;return 0<e||e===t?t:t-1}function j(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=$-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function i(e,t){var r,n,o=e.c,i=t.c,a=e.s,u=t.s,s=e.e,c=t.e;if(!a||!u)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-u:a;if(a!=u)return a;if(r=a<0,n=s==c,!o||!i)return n?0:!o^r?1:-1;if(!n)return c<s^r?1:-1;for(u=(s=o.length)<(c=i.length)?s:c,a=0;a<u;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return s==c?0:c<s^r?1:-1}function D(e,t,r){return(e=F(e))>=t&&e<=r}function U(e){return"[object Array]"==Object.prototype.toString.call(e)}function k(e,t,r){for(var n,o,i=[0],a=0,u=e.length;a<u;){for(o=i.length;o--;i[o]*=t);for(i[n=0]+=Q.indexOf(e.charAt(a++));n<i.length;n++)i[n]>r-1&&(null==i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function q(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function V(e,t){var r,n;if(t<0){for(n="0.";++t;n+="0");e=n+e}else if(++t>(r=e.length)){for(n="0",t-=r;--t;n+="0");e+=n}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}function F(e){return(e=parseFloat(e))<0?H(e):z(e)}var t,Y=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,H=Math.ceil,z=Math.floor,J=" not a boolean or binary digit",W="rounding mode",K="number type has more than 15 significant digits",Q="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",X=1e14,$=14,G=9007199254740991,Z=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],ee=1e7,te=1e9;(t=function e(t){function S(e,t){var r,n,o,i,a,u,s=this;if(!(s instanceof S))return new S(e,t);if(null!=t&&O(t,2,64,E,"base")){if(u=e+"",10==(t|=0))return I(s=new S(e instanceof S?e:u),b+s.e+1,A);if((i="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(r="["+Q.slice(0,t)+"]+")+"(?:\\."+r+")?$",t<37?"i":"").test(u))return f(s,u,i,t);i?(s.s=1/e<0?(u=u.slice(1),-1):1,x&&15<u.replace(/^0\.0*|\./,"").length&&m(E,K,e),i=!1):s.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1,u=c(u,10,t,s.s)}else{if(e instanceof S)return s.s=e.s,s.e=e.e,s.c=(e=e.c)?e.slice():e,void(E=0);if((i="number"==typeof e)&&0*e==0){if(s.s=1/e<0?(e=-e,-1):1,e===~~e){for(n=0,o=e;10<=o;o/=10,n++);return s.e=n,s.c=[e],void(E=0)}u=e+""}else{if(!Y.test(u=e+""))return f(s,u,i);s.s=45===u.charCodeAt(0)?(u=u.slice(1),-1):1}}for(-1<(n=u.indexOf("."))&&(u=u.replace(".","")),0<(o=u.search(/e/i))?(n<0&&(n=o),n+=+u.slice(o+1),u=u.substring(0,o)):n<0&&(n=u.length),o=0;48===u.charCodeAt(o);o++);for(a=u.length;48===u.charCodeAt(--a););if(u=u.slice(o,a+1))if(a=u.length,i&&x&&15<a&&(G<e||e!==z(e))&&m(E,K,s.s*e),R<(n=n-o-1))s.c=s.e=null;else if(n<_)s.c=[s.e=0];else{if(s.e=n,s.c=[],o=(n+1)%$,n<0&&(o+=$),o<a){for(o&&s.c.push(+u.slice(0,o)),a-=$;o<a;)s.c.push(+u.slice(o,o+=$));u=u.slice(o),o=$-u.length}else o-=a;for(;o--;u+="0");s.c.push(+u)}else s.c=[s.e=0];E=0}function c(e,t,r,n){var o,i,a,u,s,c,f,l=e.indexOf("."),d=b,h=A;for(r<37&&(e=e.toLowerCase()),0<=l&&(a=L,L=0,e=e.replace(".",""),s=(f=new S(r)).pow(e.length-l),L=a,f.c=k(V(j(s.c),s.e),10,t),f.e=f.c.length),i=a=(c=k(e,r,t)).length;0==c[--a];c.pop());if(!c[0])return"0";if(l<0?--i:(s.c=c,s.e=i,s.s=n,c=(s=v(s,f,d,h,t)).c,u=s.r,i=s.e),l=c[o=i+d+1],a=t/2,u=u||o<0||null!=c[o+1],u=h<4?(null!=l||u)&&(0==h||h==(s.s<0?3:2)):a<l||l==a&&(4==h||u||6==h&&1&c[o-1]||h==(s.s<0?8:7)),o<1||!c[0])e=u?V("1",-d):"0";else{if(c.length=o,u)for(--t;++c[--o]>t;)c[o]=0,o||(++i,c=[1].concat(c));for(a=c.length;!c[--a];);for(l=0,e="";l<=a;e+=Q.charAt(c[l++]));e=V(e,i)}return e}function h(e,t,r,n){var o,i,a,u,s;if(r=null!=r&&O(r,0,8,n,W)?0|r:A,!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)s=j(e.c),s=19==n||24==n&&a<=N?q(s,a):V(s,a);else if(i=(e=I(new S(e),t,r)).e,u=(s=j(e.c)).length,19==n||24==n&&(t<=i||i<=N)){for(;u<t;s+="0",u++);s=q(s,i)}else if(t-=a,s=V(s,i),u<i+1){if(0<--t)for(s+=".";t--;s+="0");}else if(0<(t+=i-u))for(i+1==u&&(s+=".");t--;s+="0");return e.s<0&&o?"-"+s:s}function r(e,t){var r,n,o=0;for(U(e[0])&&(e=e[0]),r=new S(e[0]);++o<e.length;){if(!(n=new S(e[o])).s){r=n;break}t.call(r,n)&&(r=n)}return r}function u(e,t,r,n,o){return(e<t||r<e||e!=F(e))&&m(n,(o||"decimal places")+(e<t||r<e?" out of range":" not an integer"),e),!0}function w(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];10<=o;o/=10,n++);return(r=n+r*$-1)>R?e.c=e.e=null:e.c=r<_?[e.e=0]:(e.e=r,t),e}function m(e,t,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+r);throw n.name="BigNumber Error",E=0,n}function I(e,t,r,n){var o,i,a,u,s,c,f,l=e.c,d=Z;if(l){e:{for(o=1,u=l[0];10<=u;u/=10,o++);if((i=t-o)<0)i+=$,a=t,f=(s=l[c=0])/d[o-a-1]%10|0;else if((c=H((i+1)/$))>=l.length){if(!n)break e;for(;l.length<=c;l.push(0));s=f=0,a=(i%=$)-$+(o=1)}else{for(s=u=l[c],o=1;10<=u;u/=10,o++);f=(a=(i%=$)-$+o)<0?0:s/d[o-a-1]%10|0}if(n=n||t<0||null!=l[c+1]||(a<0?s:s%d[o-a-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):5<f||5==f&&(4==r||n||6==r&&(0<i?0<a?s/d[o-a]:0:l[c-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,n?(t-=e.e+1,l[0]=d[($-t%$)%$],e.e=-t||0):l[0]=e.e=0,e;if(0==i?(l.length=c,u=1,c--):(l.length=c+1,u=d[$-i],l[c]=0<a?z(s/d[o-a]%d[a])*u:0),n)for(;;){if(0==c){for(i=1,a=l[0];10<=a;a/=10,i++);for(a=l[0]+=u,u=1;10<=a;a/=10,u++);i!=u&&(e.e++,l[0]==X&&(l[0]=1));break}if(l[c]+=u,l[c]!=X)break;l[c--]=0,u=1}for(i=l.length;0===l[--i];l.pop());}e.e>R?e.c=e.e=null:e.e<_&&(e.c=[e.e=0])}return e}var v,f,a,s,l,d,p,n,g,E=0,o=S.prototype,y=new S(1),b=20,A=4,N=-7,T=21,_=-1e7,R=1e7,x=!0,O=u,C=!1,P=1,L=0,M={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};return S.another=e,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(){var e,t,r=0,n={},o=arguments,i=o[0],a=i&&"object"==_typeof(i)?function(){if(i.hasOwnProperty(t))return null!=(e=i[t])}:function(){if(o.length>r)return null!=(e=o[r++])};return a(t="DECIMAL_PLACES")&&O(e,0,te,2,t)&&(b=0|e),n[t]=b,a(t="ROUNDING_MODE")&&O(e,0,8,2,t)&&(A=0|e),n[t]=A,a(t="EXPONENTIAL_AT")&&(U(e)?O(e[0],-te,0,2,t)&&O(e[1],0,te,2,t)&&(N=0|e[0],T=0|e[1]):O(e,-te,te,2,t)&&(N=-(T=0|(e<0?-e:e)))),n[t]=[N,T],a(t="RANGE")&&(U(e)?O(e[0],-te,-1,2,t)&&O(e[1],1,te,2,t)&&(_=0|e[0],R=0|e[1]):O(e,-te,te,2,t)&&(0|e?_=-(R=0|(e<0?-e:e)):x&&m(2,t+" cannot be zero",e))),n[t]=[_,R],a(t="ERRORS")&&(e===!!e||1===e||0===e?(E=0,O=(x=!!e)?u:D):x&&m(2,t+J,e)),n[t]=x,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?C=!0:x?m(2,"crypto unavailable",e?void 0:crypto):C=!1:C=!1:x&&m(2,t+J,e)),n[t]=C,a(t="MODULO_MODE")&&O(e,0,9,2,t)&&(P=0|e),n[t]=P,a(t="POW_PRECISION")&&O(e,0,te,2,t)&&(L=0|e),n[t]=L,a(t="FORMAT")&&("object"==_typeof(e)?M=e:x&&m(2,t+" not an object",e)),n[t]=M,n},S.max=function(){return r(arguments,o.lt)},S.min=function(){return r(arguments,o.gt)},S.random=(n=9007199254740992,g=Math.random()*n&2097151?function(){return z(Math.random()*n)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,r,n,o,i,a=0,u=[],s=new S(y);if(e=null!=e&&O(e,0,te,14)?0|e:b,o=H(e/$),C)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)9e15<=(i=131072*t[a]+(t[a+1]>>>11))?(r=crypto.getRandomValues(new Uint32Array(2)),t[a]=r[0],t[a+1]=r[1]):(u.push(i%1e14),a+=2);a=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);a<o;)9e15<=(i=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])?crypto.randomBytes(7).copy(t,a):(u.push(i%1e14),a+=7);a=o/7}else C=!1,x&&m(14,"crypto unavailable",crypto);if(!C)for(;a<o;)(i=g())<9e15&&(u[a++]=i%1e14);for(o=u[--a],e%=$,o&&e&&(i=Z[$-e],u[a]=z(o/i)*i);0===u[a];u.pop(),a--);if(a<0)u=[n=0];else{for(n=-1;0===u[0];u.splice(0,1),n-=$);for(a=1,i=u[0];10<=i;i/=10,a++);a<$&&(n-=$-a)}return s.e=n,s.c=u,s}),v=function(){function _(e,t,r){var n,o,i,a,u=0,s=e.length,c=t%ee,f=t/ee|0;for(e=e.slice();s--;)u=((o=c*(i=e[s]%ee)+(n=f*i+(a=e[s]/ee|0)*c)%ee*ee+u)/r|0)+(n/ee|0)+f*a,e[s]=o%r;return u&&(e=[u].concat(e)),e}function R(e,t,r,n){var o,i;if(r!=n)i=n<r?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function x(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&1<e.length;e.splice(0,1));}return function(e,t,r,n,o){var i,a,u,s,c,f,l,d,h,p,g,m,v,y,b,w,E,A=e.s==t.s?1:-1,N=e.c,T=t.c;if(!(N&&N[0]&&T&&T[0]))return new S(e.s&&t.s&&(N?!T||N[0]!=T[0]:T)?N&&0==N[0]||!T?0*A:A/0:NaN);for(h=(d=new S(A)).c=[],A=r+(a=e.e-t.e)+1,o||(o=X,a=B(e.e/$)-B(t.e/$),A=A/$|0),u=0;T[u]==(N[u]||0);u++);if(T[u]>(N[u]||0)&&a--,A<0)h.push(1),s=!0;else{for(y=N.length,w=T.length,A+=2,1<(c=z(o/(T[u=0]+1)))&&(T=_(T,c,o),N=_(N,c,o),w=T.length,y=N.length),v=w,g=(p=N.slice(0,w)).length;g<w;p[g++]=0);E=T.slice(),E=[0].concat(E),b=T[0],T[1]>=o/2&&b++;do{if(c=0,(i=R(T,p,w,g))<0){if(m=p[0],w!=g&&(m=m*o+(p[1]||0)),1<(c=z(m/b)))for(o<=c&&(c=o-1),l=(f=_(T,c,o)).length,g=p.length;1==R(f,p,l,g);)c--,x(f,w<l?E:T,l,o),l=f.length,i=1;else 0==c&&(i=c=1),l=(f=T.slice()).length;if(l<g&&(f=[0].concat(f)),x(p,f,g,o),g=p.length,-1==i)for(;R(T,p,w,g)<1;)c++,x(p,w<g?E:T,g,o),g=p.length}else 0===i&&(c++,p=[0]);h[u++]=c,p[0]?p[g++]=N[v]||0:(p=[N[v]],g=1)}while((v++<y||null!=p[0])&&A--);s=null!=p[0],h[0]||h.splice(0,1)}if(o==X){for(u=1,A=h[0];10<=A;A/=10,u++);I(d,r+(d.e=u+a*$-1)+1,n,s)}else d.e=a,d.r=+s;return d}}(),a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,s=/^([^.]+)\.$/,l=/^\.([^.]+)$/,d=/^-?(Infinity|NaN)$/,p=/^\s*\+(?=[\w.])|^\s+|\s+$/g,f=function(e,t,r,n){var o,i=r?t:t.replace(p,"");if(d.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!r&&(i=i.replace(a,function(e,t,r){return o="x"==(r=r.toLowerCase())?16:"b"==r?2:8,n&&n!=o?e:t}),n&&(o=n,i=i.replace(s,"$1").replace(l,"0.$1")),t!=i))return new S(i,o);x&&m(E,"not a"+(n?" base "+n:"")+" number",t),e.s=null}e.c=e.e=null,E=0},o.absoluteValue=o.abs=function(){var e=new S(this);return e.s<0&&(e.s=1),e},o.ceil=function(){return I(new S(this),this.e+1,2)},o.comparedTo=o.cmp=function(e,t){return E=1,i(this,new S(e,t))},o.decimalPlaces=o.dp=function(){var e,t,r=this.c;if(!r)return null;if(e=((t=r.length-1)-B(this.e/$))*$,t=r[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},o.dividedBy=o.div=function(e,t){return E=3,v(this,new S(e,t),b,A)},o.dividedToIntegerBy=o.divToInt=function(e,t){return E=4,v(this,new S(e,t),0,1)},o.equals=o.eq=function(e,t){return E=5,0===i(this,new S(e,t))},o.floor=function(){return I(new S(this),this.e+1,3)},o.greaterThan=o.gt=function(e,t){return E=6,0<i(this,new S(e,t))},o.greaterThanOrEqualTo=o.gte=function(e,t){return E=7,1===(t=i(this,new S(e,t)))||0===t},o.isFinite=function(){return!!this.c},o.isInteger=o.isInt=function(){return!!this.c&&B(this.e/$)>this.c.length-2},o.isNaN=function(){return!this.s},o.isNegative=o.isNeg=function(){return this.s<0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.lessThan=o.lt=function(e,t){return E=8,i(this,new S(e,t))<0},o.lessThanOrEqualTo=o.lte=function(e,t){return E=9,-1===(t=i(this,new S(e,t)))||0===t},o.minus=o.sub=function(e,t){var r,n,o,i,a=this,u=a.s;if(E=10,t=(e=new S(e,t)).s,!u||!t)return new S(NaN);if(u!=t)return e.s=-t,a.plus(e);var s=a.e/$,c=e.e/$,f=a.c,l=e.c;if(!s||!c){if(!f||!l)return f?(e.s=-t,e):new S(l?a:NaN);if(!f[0]||!l[0])return l[0]?(e.s=-t,e):new S(f[0]?a:3==A?-0:0)}if(s=B(s),c=B(c),f=f.slice(),u=s-c){for((o=(i=u<0)?(u=-u,f):(c=s,l)).reverse(),t=u;t--;o.push(0));o.reverse()}else for(n=(i=(u=f.length)<(t=l.length))?u:t,u=t=0;t<n;t++)if(f[t]!=l[t]){i=f[t]<l[t];break}if(i&&(o=f,f=l,l=o,e.s=-e.s),0<(t=(n=l.length)-(r=f.length)))for(;t--;f[r++]=0);for(t=X-1;u<n;){if(f[--n]<l[n]){for(r=n;r&&!f[--r];f[r]=t);--f[r],f[n]+=X}f[n]-=l[n]}for(;0==f[0];f.splice(0,1),--c);return f[0]?w(e,f,c):(e.s=3==A?-1:1,e.c=[e.e=0],e)},o.modulo=o.mod=function(e,t){var r,n,o=this;return E=11,e=new S(e,t),!o.c||!e.s||e.c&&!e.c[0]?new S(NaN):!e.c||o.c&&!o.c[0]?new S(o):(9==P?(n=e.s,e.s=1,r=v(o,e,0,3),e.s=n,r.s*=n):r=v(o,e,0,P),o.minus(r.times(e)))},o.negated=o.neg=function(){var e=new S(this);return e.s=-e.s||null,e},o.plus=o.add=function(e,t){var r,n=this,o=n.s;if(E=12,t=(e=new S(e,t)).s,!o||!t)return new S(NaN);if(o!=t)return e.s=-t,n.minus(e);var i=n.e/$,a=e.e/$,u=n.c,s=e.c;if(!i||!a){if(!u||!s)return new S(o/0);if(!u[0]||!s[0])return s[0]?e:new S(u[0]?n:0*o)}if(i=B(i),a=B(a),u=u.slice(),o=i-a){for((r=0<o?(a=i,s):(o=-o,u)).reverse();o--;r.push(0));r.reverse()}for((o=u.length)-(t=s.length)<0&&(r=s,s=u,u=r,t=o),o=0;t;)o=(u[--t]=u[t]+s[t]+o)/X|0,u[t]=X===u[t]?0:u[t]%X;return o&&(u=[o].concat(u),++a),w(e,u,a)},o.precision=o.sd=function(e){var t,r,n=this.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(x&&m(13,"argument"+J,e),e!=!!e&&(e=null)),!n)return null;if(t=(r=n.length-1)*$+1,r=n[r]){for(;r%10==0;r/=10,t--);for(r=n[0];10<=r;r/=10,t++);}return e&&this.e+1>t&&(t=this.e+1),t},o.round=function(e,t){var r=new S(this);return(null==e||O(e,0,te,15))&&I(r,~~e+this.e+1,null!=t&&O(t,0,8,15,W)?0|t:A),r},o.shift=function(e){var t=this;return O(e,-G,G,16,"argument")?t.times("1e"+F(e)):new S(t.c&&t.c[0]&&(e<-G||G<e)?t.s*(e<0?0:1/0):t)},o.squareRoot=o.sqrt=function(){var e,t,r,n,o,i=this,a=i.c,u=i.s,s=i.e,c=b+4,f=new S("0.5");if(1!==u||!a||!a[0])return new S(!u||u<0&&(!a||a[0])?NaN:a?i:1/0);if((r=0==(u=Math.sqrt(+i))||u==1/0?(((t=j(a)).length+s)%2==0&&(t+="0"),u=Math.sqrt(t),s=B((s+1)/2)-(s<0||s%2),new S(t=u==1/0?"1e"+s:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+s)):new S(u+"")).c[0])for((u=(s=r.e)+c)<3&&(u=0);;)if(o=r,r=f.times(o.plus(v(i,o,c,1))),j(o.c).slice(0,u)===(t=j(r.c)).slice(0,u)){if(r.e<s&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(I(r,r.e+b+2,1),e=!r.times(r).eq(i));break}if(!n&&(I(o,o.e+b+2,0),o.times(o).eq(i))){r=o;break}c+=4,u+=4,n=1}return I(r,r.e+b+1,A,e)},o.times=o.mul=function(e,t){var r,n,o,i,a,u,s,c,f,l,d,h,p,g,m,v=this,y=v.c,b=(E=17,e=new S(e,t)).c;if(!(y&&b&&y[0]&&b[0]))return!v.s||!e.s||y&&!y[0]&&!b||b&&!b[0]&&!y?e.c=e.e=e.s=null:(e.s*=v.s,y&&b?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=B(v.e/$)+B(e.e/$),e.s*=v.s,(s=y.length)<(l=b.length)&&(p=y,y=b,b=p,o=s,s=l,l=o),o=s+l,p=[];o--;p.push(0));for(g=X,m=ee,o=l;0<=--o;){for(r=0,d=b[o]%m,h=b[o]/m|0,i=o+(a=s);o<i;)r=((c=d*(c=y[--a]%m)+(u=h*c+(f=y[a]/m|0)*d)%m*m+p[i]+r)/g|0)+(u/m|0)+h*f,p[i--]=c%g;p[i]=r}return r?++n:p.splice(0,1),w(e,p,n)},o.toDigits=function(e,t){var r=new S(this);return e=null!=e&&O(e,1,te,18,"precision")?0|e:null,t=null!=t&&O(t,0,8,18,W)?0|t:A,e?I(r,e,t):r},o.toExponential=function(e,t){return h(this,null!=e&&O(e,0,te,19)?1+~~e:null,t,19)},o.toFixed=function(e,t){return h(this,null!=e&&O(e,0,te,20)?~~e+this.e+1:null,t,20)},o.toFormat=function(e,t){var r=h(this,null!=e&&O(e,0,te,21)?~~e+this.e+1:null,t,21);if(this.c){var n,o=r.split("."),i=+M.groupSize,a=+M.secondaryGroupSize,u=M.groupSeparator,s=o[0],c=o[1],f=this.s<0,l=f?s.slice(1):s,d=l.length;if(a&&(n=i,i=a,d-=a=n),0<i&&0<d){for(n=d%i||i,s=l.substr(0,n);n<d;n+=i)s+=u+l.substr(n,i);0<a&&(s+=u+l.slice(n)),f&&(s="-"+s)}r=c?s+M.decimalSeparator+((a=+M.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+M.fractionGroupSeparator):c):s}return r},o.toFraction=function(e){var t,r,n,o,i,a,u,s,c,f=x,l=this,d=l.c,h=new S(y),p=r=new S(y),g=u=new S(y);if(null!=e&&(x=!1,a=new S(e),x=f,(f=a.isInt())&&!a.lt(y)||(x&&m(22,"max denominator "+(f?"out of range":"not an integer"),e),e=!f&&a.c&&I(a,a.e+1,1).gte(y)?a:null)),!d)return l.toString();for(c=j(d),o=h.e=c.length-l.e-1,h.c[0]=Z[(i=o%$)<0?$+i:i],e=!e||0<a.cmp(h)?0<o?h:p:a,i=R,R=1/0,a=new S(c),u.c[0]=0;s=v(a,h,0,1),1!=(n=r.plus(s.times(g))).cmp(e);)r=g,g=n,p=u.plus(s.times(n=p)),u=n,h=a.minus(s.times(n=h)),a=n;return n=v(e.minus(r),g,0,1),u=u.plus(n.times(p)),r=r.plus(n.times(g)),u.s=p.s=l.s,t=v(p,g,o*=2,A).minus(l).abs().cmp(v(u,r,o,A).minus(l).abs())<1?[p.toString(),g.toString()]:[u.toString(),r.toString()],R=i,t},o.toNumber=function(){return+this},o.toPower=o.pow=function(e,t){var r,n,o,i=z(e<0?-e:+e),a=this;if(null!=t&&(E=23,t=new S(t)),!O(e,-G,G,23,"exponent")&&(!isFinite(e)||G<i&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return r=Math.pow(+a,e),new S(t?r%t:r);for(t?1<e&&a.gt(y)&&a.isInt()&&t.gt(y)&&t.isInt()?a=a.mod(t):(o=t,t=null):L&&(r=H(L/$+2)),n=new S(y);;){if(i%2){if(!(n=n.times(a)).c)break;r?n.c.length>r&&(n.c.length=r):t&&(n=n.mod(t))}if(!(i=z(i/2)))break;a=a.times(a),r?a.c&&a.c.length>r&&(a.c.length=r):t&&(a=a.mod(t))}return t?n:(e<0&&(n=y.div(n)),o?n.mod(o):r?I(n,L,A):n)},o.toPrecision=function(e,t){return h(this,null!=e&&O(e,1,te,24,"precision")?0|e:null,t,24)},o.toString=function(e){var t,r=this.s,n=this.e;return null===n?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(t=j(this.c),t=null!=e&&O(e,2,64,25,"base")?c(V(t,n),0|e,10,r):n<=N||T<=n?q(t,n):V(t,n),r<0&&this.c[0]&&(t="-"+t)),t},o.truncated=o.trunc=function(){return I(new S(this),this.e+1,1)},o.valueOf=o.toJSON=function(){var e,t=this.e;return null===t?this.toString():(e=j(this.c),e=t<=N||T<=t?q(e,t):V(e,t),this.s<0?"-"+e:e)},o.isBigNumber=!0,null!=t&&S.config(t),S}()).default=t.BigNumber=t,"function"==typeof define&&define.amd?define(function(){return t}):void 0!==r&&r.exports?r.exports=t:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=t)}(this)},{}],9:[function(e,t,r){var n=e("window-or-global");t.exports=function(){return"function"==typeof n.Promise&&"function"==typeof n.Promise.prototype.then}},{"window-or-global":39}],10:[function(e,t,r){var p={single_source_shortest_paths:function(e,t,r){var n={},o={};o[t]=0;var i,a,u,s,c,f,l,d=p.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(u in a=(i=d.pop()).value,s=i.cost,c=e[a]||{})c.hasOwnProperty(u)&&(f=s+c[u],l=o[u],(void 0===o[u]||f<l)&&(o[u]=f,d.push(u,f),n[u]=a));if(void 0===r||void 0!==o[r])return n;var h=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(h)},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t;n;)r.push(n),e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=p.single_source_shortest_paths(e,t,r);return p.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t,r=p.PriorityQueue,n={};for(t in e=e||{},r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n.queue=[],n.sorter=e.sorter||r.default_sorter,n},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==t&&(t.exports=p)},{}],11:[function(e,t,r){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,l=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},d=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=o.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||o.call(e,t)};t.exports=function e(){var t,r,n,o,i,a,u=arguments[0],s=1,c=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},s=2),(null==u||"object"!=_typeof(u)&&"function"!=typeof u)&&(u={});s<c;++s)if(null!=(t=arguments[s]))for(r in t)n=u[r],u!==(o=t[r])&&(f&&o&&(d(o)||(i=l(o)))?(a=i?(i=!1,n&&l(n)?n:[]):n&&d(n)?n:{},u[r]=e(f,a,o)):void 0!==o&&(u[r]=o));return u}},{}],12:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],13:[function(e,t,r){function n(n,o,i,a,t){var e=[].slice.call(arguments,1),r=e.length,u="function"==typeof e[r-1];if(!u&&!c())throw new Error("Callback required as last argument");if(!u){if(r<1)throw new Error("Too few arguments provided");return 1===r?(i=o,o=a=g):2!==r||o.getContext||(a=i,i=o,o=g),new Promise(function(e,t){try{var r=f.create(i,a);e(n(r,o,a))}catch(e){t(e)}})}if(r<2)throw new Error("Too few arguments provided");2===r?(t=i,i=o,o=a=g):3===r&&(o.getContext&&void 0===t?(t=a,a=g):(t=a,a=i,i=o,o=g));try{var s=f.create(i,a);t(null,n(s,o,a))}catch(e){t(e)}}var c=e("can-promise"),f=e("./core/qrcode"),o=e("./renderer/canvas"),i=e("./renderer/svg-tag.js");r.create=f.create,r.toCanvas=n.bind(null,o.render),r.toDataURL=n.bind(null,o.renderToDataURL),r.toString=n.bind(null,function(e,t,r){return i.render(e,r)})},{"./core/qrcode":29,"./renderer/canvas":35,"./renderer/svg-tag.js":36,"can-promise":9}],14:[function(e,t,a){var u=e("./utils").getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,r=u(e),n=145===r?26:2*Math.ceil((r-13)/(2*t-2)),o=[r-7],i=1;i<t-1;i++)o[i]=o[i-1]-n;return o.push(6),o.reverse()},a.getPositions=function(e){for(var t=[],r=a.getRowColCoords(e),n=r.length,o=0;o<n;o++)for(var i=0;i<n;i++)0===o&&0===i||0===o&&i===n-1||o===n-1&&0===i||t.push([r[o],r[i]]);return t}},{"./utils":33}],15:[function(e,t,r){function n(e){this.mode=o.ALPHANUMERIC,this.data=e}var o=e("./mode"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];n.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},t.exports=n},{"./mode":26}],16:[function(e,t,r){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=n},{}],17:[function(e,t,r){function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new o(e*e),this.data.fill(0),this.reservedBit=new o(e*e),this.reservedBit.fill(0)}var o=e("../utils/buffer");n.prototype.set=function(e,t,r,n){var o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=n},{"../utils/buffer":38}],18:[function(e,t,r){function n(e){this.mode=i.BYTE,this.data=new o(e)}var o=e("../utils/buffer"),i=e("./mode");n.getBitsLength=function(e){return 8*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},t.exports=n},{"../utils/buffer":38,"./mode":26}],19:[function(e,t,r){var n=e("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];r.getBlocksCount=function(e,t){switch(t){case n.L:return o[4*(e-1)+0];case n.M:return o[4*(e-1)+1];case n.Q:return o[4*(e-1)+2];case n.H:return o[4*(e-1)+3];default:return g}},r.getTotalCodewordsCount=function(e,t){switch(t){case n.L:return i[4*(e-1)+0];case n.M:return i[4*(e-1)+1];case n.Q:return i[4*(e-1)+2];case n.H:return i[4*(e-1)+3];default:return g}}},{"./error-correction-level":20}],20:[function(e,t,r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},{}],21:[function(e,t,r){var n=e("./utils").getSymbolSize;r.getPositions=function(e){var t=n(e);return[[0,0],[t-7,0],[0,t-7]]}},{"./utils":33}],22:[function(e,t,r){var o=e("./utils"),i=o.getBCHDigit(1335);r.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,n=r<<10;0<=o.getBCHDigit(n)-i;)n^=1335<<o.getBCHDigit(n)-i;return 21522^(r<<10|n)}},{"./utils":33}],23:[function(e,t,r){var n=e("../utils/buffer"),o=new n(512),i=new n(256);!function(){for(var e=1,t=0;t<255;t++)o[t]=e,i[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)o[t]=o[t-255]}(),r.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},r.exp=function(e){return o[e]},r.mul=function(e,t){return 0===e||0===t?0:o[i[e]+i[t]]}},{"../utils/buffer":38}],24:[function(e,t,r){function n(e){this.mode=o.KANJI,this.data=e}var o=e("./mode"),i=e("./utils");n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=i.toSJIS(this.data[t]);if(33088<=r&&r<=40956)r-=33088;else{if(!(57408<=r&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},t.exports=n},{"./mode":26,"./utils":33}],25:[function(e,t,u){function i(e,t,r){switch(e){case u.Patterns.PATTERN000:return(t+r)%2==0;case u.Patterns.PATTERN001:return t%2==0;case u.Patterns.PATTERN010:return r%3==0;case u.Patterns.PATTERN011:return(t+r)%3==0;case u.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case u.Patterns.PATTERN101:return t*r%2+t*r%3==0;case u.Patterns.PATTERN110:return(t*r%2+t*r%3)%2==0;case u.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}u.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var f=3,a=3,s=40,o=10;u.isValid=function(e){return e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},u.from=function(e){return u.isValid(e)?parseInt(e,10):g},u.getPenaltyN1=function(e){for(var t=e.size,r=0,n=0,o=0,i=null,a=null,u=0;u<t;u++){n=o=0,i=a=null;for(var s=0;s<t;s++){var c=e.get(u,s);c===i?n++:(5<=n&&(r+=f+(n-5)),i=c,n=1),(c=e.get(s,u))===a?o++:(5<=o&&(r+=f+(o-5)),a=c,o=1)}5<=n&&(r+=f+(n-5)),5<=o&&(r+=f+(o-5))}return r},u.getPenaltyN2=function(e){for(var t=e.size,r=0,n=0;n<t-1;n++)for(var o=0;o<t-1;o++){var i=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);4!==i&&0!==i||r++}return r*a},u.getPenaltyN3=function(e){for(var t=e.size,r=0,n=0,o=0,i=0;i<t;i++){n=o=0;for(var a=0;a<t;a++)n=n<<1&2047|e.get(i,a),10<=a&&(1488===n||93===n)&&r++,o=o<<1&2047|e.get(a,i),10<=a&&(1488===o||93===o)&&r++}return r*s},u.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];return Math.abs(Math.ceil(100*t/r/5)-10)*o},u.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var o=0;o<r;o++)t.isReserved(o,n)||t.xor(o,n,i(e,o,n))},u.getBestMask=function(e,t){for(var r=Object.keys(u.Patterns).length,n=0,o=1/0,i=0;i<r;i++){t(i),u.applyMask(i,e);var a=u.getPenaltyN1(e)+u.getPenaltyN2(e)+u.getPenaltyN3(e)+u.getPenaltyN4(e);u.applyMask(i,e),a<o&&(o=a,n=i)}return n}},{}],26:[function(e,t,r){var n=e("./version"),o=e("./regex");r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!n.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return o.testNumeric(e)?r.NUMERIC:o.testAlphanumeric(e)?r.ALPHANUMERIC:o.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},{"./regex":31,"./version":34}],27:[function(e,t,r){function n(e){this.mode=o.NUMERIC,this.data=e.toString()}var o=e("./mode");n.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);var o=this.data.length-t;0<o&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*o+1))},t.exports=n},{"./mode":26}],28:[function(e,t,n){var a=e("../utils/buffer"),u=e("./galois-field");n.mul=function(e,t){var r=new a(e.length+t.length-1);r.fill(0);for(var n=0;n<e.length;n++)for(var o=0;o<t.length;o++)r[n+o]^=u.mul(e[n],t[o]);return r},n.mod=function(e,t){for(var r=new a(e);0<=r.length-t.length;){for(var n=r[0],o=0;o<t.length;o++)r[o]^=u.mul(t[o],n);for(var i=0;i<r.length&&0===r[i];)i++;r=r.slice(i)}return r},n.generateECPolynomial=function(e){for(var t=new a([1]),r=0;r<e;r++)t=n.mul(t,[1,u.exp(r)]);return t}},{"../utils/buffer":38,"./galois-field":23}],29:[function(e,t,r){function l(e,t,r){var n,o,i=e.size,a=s.getEncodedBits(t,r);for(n=0;n<15;n++)o=1==(a>>n&1),n<6?e.set(n,8,o,!0):n<8?e.set(n+1,8,o,!0):e.set(i-15+n,8,o,!0),n<8?e.set(8,i-n-1,o,!0):n<9?e.set(8,15-n-1+1,o,!0):e.set(8,15-n-1,o,!0);e.set(i-8,8,1,!0)}function d(t,e,r){var n=new u;r.forEach(function(e){n.put(e.mode.bit,4),n.put(e.getLength(),c.getCharCountIndicator(e.mode,t)),e.write(n)});var o=8*(_.getSymbolTotalCodewords(t)-R.getTotalCodewordsCount(t,e));for(n.getLengthInBits()+4<=o&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(0);for(var i=(o-n.getLengthInBits())/8,a=0;a<i;a++)n.put(a%2?17:236,8);return function(e,t,r){for(var n=_.getSymbolTotalCodewords(t),o=R.getTotalCodewordsCount(t,r),i=n-o,a=R.getBlocksCount(t,r),u=a-n%a,s=Math.floor(n/a),c=Math.floor(i/a),f=c+1,l=s-c,d=new x(l),h=0,p=new Array(a),g=new Array(a),m=0,v=new T(e.buffer),y=0;y<a;y++){var b=y<u?c:f;p[y]=v.slice(h,h+b),g[y]=d.encode(p[y]),h+=b,m=Math.max(m,b)}var w,E,A=new T(n),N=0;for(w=0;w<m;w++)for(E=0;E<a;E++)w<p[E].length&&(A[N++]=p[E][w]);for(w=0;w<l;w++)for(E=0;E<a;E++)A[N++]=g[E][w];return A}(n,t,e)}function i(e,t,r,n){var o;if(b(e))o=y.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i=t;if(!i){var a=y.rawSplit(e);i=v.getBestVersionForData(a,r)}o=y.fromString(e,i||40)}var u=v.getBestVersionForData(o,r);if(!u)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<u)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+u+".\n")}else t=u;var s=d(t,r,o),c=_.getSymbolSize(t),f=new h(c);return function(e,t){for(var r=e.size,n=g.getPositions(t),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],u=-1;u<=7;u++)if(!(i+u<=-1||r<=i+u))for(var s=-1;s<=7;s++)a+s<=-1||r<=a+s||(0<=u&&u<=6&&(0===s||6===s)||0<=s&&s<=6&&(0===u||6===u)||2<=u&&u<=4&&2<=s&&s<=4?e.set(i+u,a+s,!0,!0):e.set(i+u,a+s,!1,!0))}(f,t),function(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2==0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}(f),function(e,t){for(var r=p.getPositions(t),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var u=-2;u<=2;u++)-2===a||2===a||-2===u||2===u||0===a&&0===u?e.set(o+a,i+u,!0,!0):e.set(o+a,i+u,!1,!0)}(f,t),l(f,r,0),7<=t&&function(e,t){for(var r,n,o,i=e.size,a=v.getEncodedBits(t),u=0;u<18;u++)r=Math.floor(u/3),n=u%3+i-8-3,o=1==(a>>u&1),e.set(r,n,o,!0),e.set(n,r,o,!0)}(f,t),function(e,t){for(var r=e.size,n=-1,o=r-1,i=7,a=0,u=r-1;0<u;u-=2)for(6===u&&u--;;){for(var s=0;s<2;s++)if(!e.isReserved(o,u-s)){var c=!1;a<t.length&&(c=1==(t[a]>>>i&1)),e.set(o,u-s,c),-1==--i&&(a++,i=7)}if((o+=n)<0||r<=o){o-=n,n=-n;break}}}(f,s),n||(n=m.getBestMask(f,l.bind(null,f,r))),m.applyMask(n,f),l(f,r,n),{modules:f,version:t,errorCorrectionLevel:r,maskPattern:n,segments:o}}var T=e("../utils/buffer"),_=e("./utils"),a=e("./error-correction-level"),u=e("./bit-buffer"),h=e("./bit-matrix"),p=e("./alignment-pattern"),g=e("./finder-pattern"),m=e("./mask-pattern"),R=e("./error-correction-code"),x=e("./reed-solomon-encoder"),v=e("./version"),s=e("./format-info"),c=e("./mode"),y=e("./segments"),b=e("isarray");r.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var r,n,o=a.M;return void 0!==t&&(o=a.from(t.errorCorrectionLevel,a.M),r=v.from(t.version),n=m.from(t.maskPattern),t.toSJISFunc&&_.setToSJISFunction(t.toSJISFunc)),i(e,r,o,n)}},{"../utils/buffer":38,"./alignment-pattern":14,"./bit-buffer":16,"./bit-matrix":17,"./error-correction-code":19,"./error-correction-level":20,"./finder-pattern":21,"./format-info":22,"./mask-pattern":25,"./mode":26,"./reed-solomon-encoder":30,"./segments":32,"./utils":33,"./version":34,isarray:12}],30:[function(e,t,r){function n(e){this.genPoly=g,this.degree=e,this.degree&&this.initialize(this.degree)}var a=e("../utils/buffer"),u=e("./polynomial");n.prototype.initialize=function(e){this.degree=e,this.genPoly=u.generateECPolynomial(this.degree)},n.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new a(this.degree);t.fill(0);var r=a.concat([e,t],e.length+this.degree),n=u.mod(r,this.genPoly),o=this.degree-n.length;if(0<o){var i=new a(this.degree);return i.fill(0),n.copy(i,o),i}return n},t.exports=n},{"../utils/buffer":38,"./polynomial":28}],31:[function(e,t,r){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+").)+";r.KANJI=new RegExp(n,"g"),r.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r.BYTE=new RegExp(o,"g"),r.NUMERIC=new RegExp("[0-9]+","g"),r.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+n+"$"),a=new RegExp("^[0-9]+$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");r.testKanji=function(e){return i.test(e)},r.testNumeric=function(e){return a.test(e)},r.testAlphanumeric=function(e){return u.test(e)}},{}],32:[function(e,t,a){function u(e){return unescape(encodeURIComponent(e)).length}function i(e,t,r){for(var n,o=[];null!==(n=e.exec(r));)o.push({data:n[0],index:n.index,mode:t,length:n[0].length});return o}function s(e){var t,r,n=i(d.NUMERIC,p.NUMERIC,e),o=i(d.ALPHANUMERIC,p.ALPHANUMERIC,e);return r=g.isKanjiModeEnabled()?(t=i(d.BYTE,p.BYTE,e),i(d.KANJI,p.KANJI,e)):(t=i(d.BYTE_KANJI,p.BYTE,e),[]),n.concat(o,t,r).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function h(e,t){switch(t){case p.NUMERIC:return o.getBitsLength(e);case p.ALPHANUMERIC:return c.getBitsLength(e);case p.KANJI:return l.getBitsLength(e);case p.BYTE:return f.getBitsLength(e)}}function r(e,t){var r,n=p.getBestModeForData(e);if((r=p.from(t,n))!==p.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+p.toString(r)+".\n Suggested mode is: "+p.toString(n));switch(r!==p.KANJI||g.isKanjiModeEnabled()||(r=p.BYTE),r){case p.NUMERIC:return new o(e);case p.ALPHANUMERIC:return new c(e);case p.KANJI:return new l(e);case p.BYTE:return new f(e)}}var p=e("./mode"),o=e("./numeric-data"),c=e("./alphanumeric-data"),f=e("./byte-data"),l=e("./kanji-data"),d=e("./regex"),g=e("./utils"),m=e("dijkstrajs");a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(r(t,null)):t.data&&e.push(r(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var r=function(e,t){for(var r={},n={start:{}},o=["start"],i=0;i<e.length;i++){for(var a=e[i],u=[],s=0;s<a.length;s++){var c=a[s],f=""+i+s;u.push(f),r[f]={node:c,lastCount:0},n[f]={};for(var l=0;l<o.length;l++){var d=o[l];r[d]&&r[d].node.mode===c.mode?(n[d][f]=h(r[d].lastCount+c.length,c.mode)-h(r[d].lastCount,c.mode),r[d].lastCount+=c.length):(r[d]&&(r[d].lastCount=c.length),n[d][f]=h(c.length,c.mode)+4+p.getCharCountIndicator(c.mode,t))}}o=u}for(l=0;l<o.length;l++)n[o[l]].end=0;return{map:n,table:r}}(function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];switch(n.mode){case p.NUMERIC:t.push([n,{data:n.data,mode:p.ALPHANUMERIC,length:n.length},{data:n.data,mode:p.BYTE,length:n.length}]);break;case p.ALPHANUMERIC:t.push([n,{data:n.data,mode:p.BYTE,length:n.length}]);break;case p.KANJI:t.push([n,{data:n.data,mode:p.BYTE,length:u(n.data)}]);break;case p.BYTE:t.push([{data:n.data,mode:p.BYTE,length:u(n.data)}])}}return t}(s(e,g.isKanjiModeEnabled())),t),n=m.find_path(r.map,"start","end"),o=[],i=1;i<n.length-1;i++)o.push(r.table[n[i]].node);return a.fromArray(o.reduce(function(e,t){var r=0<=e.length-1?e[e.length-1]:null;return r&&r.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(s(e,g.isKanjiModeEnabled()))}},{"./alphanumeric-data":15,"./byte-data":18,"./kanji-data":24,"./mode":26,"./numeric-data":27,"./regex":31,"./utils":33,dijkstrajs:10}],33:[function(e,t,r){var n,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},r.getSymbolTotalCodewords=function(e){return o[e]},r.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},r.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},r.isKanjiModeEnabled=function(){return void 0!==n},r.toSJIS=function(e){return n(e)}},{}],34:[function(e,t,i){function a(e,t){return f.getCharCountIndicator(e,t)+4}function o(e,r){var n=0;return e.forEach(function(e){var t=a(e.mode,r);n+=t+e.getBitsLength()}),n}var u=e("./utils"),s=e("./error-correction-code"),c=e("./error-correction-level"),f=e("./mode"),l=e("isarray"),r=u.getBCHDigit(7973);i.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40},i.from=function(e,t){return i.isValid(e)?parseInt(e,10):t},i.getCapacity=function(e,t,r){if(!i.isValid(e))throw new Error("Invalid QR Code version");void 0===r&&(r=f.BYTE);var n=8*(u.getSymbolTotalCodewords(e)-s.getTotalCodewordsCount(e,t));if(r===f.MIXED)return n;var o=n-a(r,e);switch(r){case f.NUMERIC:return Math.floor(o/10*3);case f.ALPHANUMERIC:return Math.floor(o/11*2);case f.KANJI:return Math.floor(o/13);case f.BYTE:default:return Math.floor(o/8)}},i.getBestVersionForData=function(e,t){var r,n=c.from(t,c.M);if(l(e)){if(1<e.length)return function(e,t){for(var r=1;r<=40;r++)if(o(e,r)<=i.getCapacity(r,t,f.MIXED))return r;return g}(e,n);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,t,r){for(var n=1;n<=40;n++)if(t<=i.getCapacity(n,r,e))return n;return g}(r.mode,r.getLength(),n)},i.getEncodedBits=function(e){if(!i.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=u.getBCHDigit(t)-r;)t^=7973<<u.getBCHDigit(t)-r;return e<<12|t}},{"./error-correction-code":19,"./error-correction-level":20,"./mode":26,"./utils":33,isarray:12}],35:[function(e,t,u){var f=e("./utils");u.render=function(e,t,r){var n=r,o=t;void 0!==n||t&&t.getContext||(n=t,t=g),t||(o=function(){try{return l.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),n=f.getOptions(n);var i,a,u=f.getImageWidth(e.modules.size,n),s=o.getContext("2d"),c=s.createImageData(u,u);return f.qrToImageData(c.data,e,n),i=o,a=u,s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=a,i.width=a,i.style.height=a+"px",i.style.width=a+"px",s.putImageData(c,0,0),o},u.renderToDataURL=function(e,t,r){var n=r;void 0!==n||t&&t.getContext||(n=t,t=g),n||(n={});var o=u.render(e,t,n),i=n.type||"image/png",a=n.rendererOpts||{};return o.toDataURL(i,a.quality)}},{"./utils":37}],36:[function(e,t,r){function l(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function d(e,t,r){var n=e+t;return void 0!==r&&(n+=" "+r),n}var h=e("./utils");r.render=function(e,t,r){var n=h.getOptions(t),o=e.modules.size,i=e.modules.data,a=o+2*n.margin,u=n.color.light.a?"<path "+l(n.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",s="<path "+l(n.color.dark,"stroke")+' d="'+function(e,t,r){for(var n="",o=0,i=!1,a=0,u=0;u<e.length;u++){var s=Math.floor(u%t),c=Math.floor(u/t);s||i||(i=!0),e[u]?(a++,0<u&&0<s&&e[u-1]||(n+=i?d("M",s+r,.5+c+r):d("m",o,0),o=0,i=!1),s+1<t&&e[u+1]||(n+=d("h",a),a=0)):o++}return n}(i,o,n.margin)+'"/>',c='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+c+">"+u+s+"</svg>";return"function"==typeof r&&r(null,f),f}},{"./utils":37}],37:[function(e,t,h){function o(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&21<=e.width?e.width:g,n=e.scale||4;return{width:r,scale:r?4:n,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var r=h.getScale(e,t);return Math.floor((e+2*t.margin)*r)},h.qrToImageData=function(e,t,r){for(var n=t.modules.size,o=t.modules.data,i=h.getScale(n,r),a=Math.floor((n+2*r.margin)*i),u=r.margin*i,s=[r.color.light,r.color.dark],c=0;c<a;c++)for(var f=0;f<a;f++){var l=4*(c*a+f),d=r.color.light;if(u<=c&&u<=f&&c<a-u&&f<a-u)d=s[o[Math.floor((c-u)/i)*n+Math.floor((f-u)/i)]?1:0];e[l++]=d.r,e[l++]=d.g,e[l++]=d.b,e[l]=d.a}}},{}],38:[function(e,t,r){function c(e,t,r){return c.TYPED_ARRAY_SUPPORT||this instanceof c?"number"==typeof e?a(this,e):function(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");var o;return o=r===g&&n===g?new Uint8Array(t):n===g?new Uint8Array(t,r):new Uint8Array(t,r,n),c.TYPED_ARRAY_SUPPORT?o.__proto__=c.prototype:o=d(e,o),o}(e,t,r,n):"string"==typeof t?(o=e,i=t,a=0|h(i),u=l(o,a),s=u.write(i),s!==a&&(u=u.slice(0,s)),u):function(e,t){if(c.isBuffer(t)){var r=0|f(t.length),n=l(e,r);return 0===n.length||t.copy(n,0,0,r),n}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?l(e,0):d(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return d(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t);var o,i,a,u,s}(this,e,t,r):new c(e,t,r)}function f(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function l(e,t){var r;return c.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t)).__proto__=c.prototype:(null===(r=e)&&(r=new c(t)),r.length=t),r}function a(e,t){var r=l(e,t<0?0:0|f(t));if(!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function d(e,t){for(var r=t.length<0?0:0|f(t.length),n=l(e,r),o=0;o<r;o+=1)n[o]=255&t[o];return n}function u(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!o){if(56319<r){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&i.push(239,191,189);continue}o=r;continue}if(r<56320){-1<(t-=3)&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function h(e){return c.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:u(e).length)}var s=e("isarray"),n=(c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),c.prototype.write=function(e,t,r){t===g?(r=this.length,t=0):r===g&&"string"==typeof t?(r=this.length,t=0):isFinite(t)&&(t|=0,r=isFinite(r)?0|r:g);var n,o,i,a=this.length-t;if((r===g||a<r)&&(r=a),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return o=t,i=r,function(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}(u(e,(n=this).length-o),n,o,i)},c.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=t===g?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=c.prototype;else{var o=t-e;r=new c(o,g);for(var i=0;i<o;++i)r[i]=this[i+e]}return r},c.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),0<n&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,i=n-r;if(this===e&&r<t&&t<n)for(o=i-1;0<=o;--o)e[o+t]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+i),t);return i},c.prototype.fill=function(e,t,r){if("string"==typeof e){if("string"==typeof t?(t=0,r=this.length):"string"==typeof r&&(r=this.length),1===e.length){var n=e.charCodeAt(0);n<256&&(e=n)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=r===g?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var i=c.isBuffer(e)?e:new c(e),a=i.length;for(o=0;o<r-t;++o)this[o+t]=i[o%a]}return this},c.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l(null,0);var r;if(t===g)for(r=t=0;r<e.length;++r)t+=e[r].length;var n=a(null,t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(!c.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,o),o+=i.length}return n},c.byteLength=h,c.prototype._isBuffer=!0,c.isBuffer=function(e){return!(null==e||!e._isBuffer)},t.exports=c},{isarray:12}],39:[function(e,t,r){(function(e){t.exports="object"==("undefined"==typeof self?"undefined":_typeof(self))&&self.self===self&&self||"object"==_typeof(e)&&e.global===e&&e||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==f?f:{})},{}],nebpay:[function(e,t,r){var u=e("extend"),n=e("./libs/http"),o=e("./libs/config"),i=e("./libs/pay"),s=e("bignumber.js"),a="NAS",c=function(e,t){this._pay=new i(e,t)};c.config=o;var f={goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!0,completeTip:g,cancelTip:g,container:g},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:g},callback:g,listener:g,nrc20:g,debug:!1};c.prototype={pay:function(e,t,r){return r=u(f,r),this._pay.submit(a,e,t,{type:"binary"},r)},nrc20pay:function(e,t,r,n){n.nrc20&&0<n.nrc20.decimals&&(r=new s(r=r||"0").times(new s(10).pow(n.nrc20.decimals)).toString(10));var o="";n.nrc20&&n.nrc20.address&&(o=n.nrc20.address);var i=[t,r],a={type:"call",function:"transfer",args:JSON.stringify(i)};return n=u(f,n),this._pay.submit(e,o,"0",a,n)},deploy:function(e,t,r,n){var o={type:"deploy",source:e,sourceType:t,args:r};return n=u(f,n),this._pay.submit(a,"","0",o,n)},call:function(e,t,r,n,o){var i={type:"call",function:r,args:n};return o=u(f,o),this._pay.submit(a,e,t,i,o)},simulateCall:function(e,t,r,n,o){var i={type:"simulateCall",function:r,args:n};return o=u(f,o),this._pay.submit(a,e,t,i,o)},queryPayInfo:function(e,t){var r=(t=u(f,t)).callback||o.payUrl(t.debug);return r=r+"/query?payId="+e,n.get(r)}},t.exports=c},{"./libs/config":3,"./libs/http":5,"./libs/pay":6,"bignumber.js":8,extend:11}]},{},[]);var p=require(8),m=require("nebpay"),v=new m;!function(r){function n(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var o={};n.m=r,n.c=o,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=9)}([function(e,t,r){function n(e){return/^n\d[0-9a-zA-Z]{33}$/.test(e)}function o(e){return/^[0-9a-zA-Z]{64}$/.test(e)}function i(e){return/^[0-9a-zA-Z]{32}$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"isValidAddr",function(){return n}),r.d(t,"isValidTxHash",function(){return o}),r.d(t,"isValidPayId",function(){return i});var a=r(20);r.d(t,"ready",function(){return a.a})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"INVALID_ARG",function(){return n}),r.d(t,"INVALID_USER_ADDR",function(){return o}),r.d(t,"INVALID_CONTRACT_ADDR",function(){return i}),r.d(t,"NETWORK_ERROR",function(){return a}),r.d(t,"SERVER_ERROR",function(){return u}),r.d(t,"INVALID_REQUEST",function(){return s}),r.d(t,"INVALID_CONTRACT",function(){return c}),r.d(t,"TX_TIMEOUT",function(){return f}),r.d(t,"PAY_ID_REG_FAILED",function(){return l}),r.d(t,"TX_REJECTED_BY_USER",function(){return d}),r.d(t,"TX_STATUS_UNKNOWN",function(){return h}),r.d(t,"TX_FAILED",function(){return p}),r.d(t,"CALL_FAILED",function(){return g}),r.d(t,"DEPLOY_FAILED",function(){return m}),r.d(t,"EXTENSION_NOT_INSTALLED",function(){return v}),r.d(t,"EXTENSION_TIMEOUT",function(){return y}),r.d(t,"EXTENSION_NO_WALLET",function(){return b});var n="invalid arg",o="invalid user addr",i="invalid contract addr",a="network error",u="server error",s="invalid request",c="invalid contract",f="tx timeout",l="pay id reg failed",d="tx rejected by user",h="tx status unknown",p="tx failed",g="call failed",m="deploy failed",v="extension not installed",y="extension timeout",b="extension no wallet"},function(e,t,r){function n(){return Object(i.b)()&&Object(i.d)()&&Object(i.a)()&&Object(i.c)()}function o(){if("object"===("undefined"==typeof NasExtWallet?"undefined":u(NasExtWallet)))return!0;var e=f.webExtensionWallet;return!!e&&String(e).includes("nebulas")}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"isSupported",function(){return n}),r.d(t,"isWalletExtensionInstalled",function(){return o});var i=r(17),a=r(18);r.d(t,"isMobileDevice",function(){return a.c}),r.d(t,"isDesktopDevice",function(){return a.b}),r.d(t,"isDesktopChrome",function(){return a.a}),r.d(t,"isWeChat",function(){return a.e}),r.d(t,"isWalletMobileApp",function(){return a.d});var u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)};o()&&!f.NasExtWallet&&(f.NasExtWallet={})},function(e,t,r){function n(){var e=0<arguments.length&&arguments[0]!==g?arguments[0]:"";e=String(e),-1!==[i,a,u].indexOf(e)?f=e:void 0}function o(){return f}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"MAIN",function(){return i}),r.d(t,"TEST",function(){return a}),r.d(t,"LOCAL",function(){return u}),r.d(t,"MAINNET",function(){return s}),r.d(t,"TESTNET",function(){return c}),r.d(t,"set",function(){return n}),r.d(t,"get",function(){return o});var i="mainnet",a="testnet",u="local",s=i,c=a,f=i},function(e,t,r){function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=u.get();return c[t][e]||""}function i(){var e={};return e.callback=o("apiPayId"),e}r.d(t,"a",function(){return c}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i});var a,u=r(3),s=m.config,c=(n(a={},u.LOCAL,{chainId:100,endpoint:"http://localhost:8685/",apiPayId:s.testnetUrl}),n(a,u.TEST,{chainId:1001,endpoint:"https://testnet.nebulas.io/",apiPayId:s.testnetUrl}),n(a,u.MAIN,{chainId:1,endpoint:"https://mainnet.nebulas.io/",apiPayId:s.mainnetUrl}),a)},function(e,t,r){function n(){var e=a.length,t=Math.floor(Math.random()*e);return a[t]}function o(e){i.isValidAddr(e)&&(a.length=0,a.push(e))}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return o});var i=r(0),a=["n1bCep7RbeCWQk9EQo48V3TuXEdZLCS7eTn","n1Q5ywsbu49mFV4RZSuq3URenNaxiWE4fxe","n1Qj7ynMBW77PCB4Q2EBrfRGQE73PR54VNe","n1YRjbJVRUP9kfpx92wHViJeU4owxLqzReZ","n1ZL7QLfm8UEbUqwEJ9zWBacN1yqk7biM3d"]},function(e,t,r){t.a=function(e){return(e=String(e)).replace(/^call:/i,"").trim().replace(/^error:/i,"").trim()}},function(e,t,r){function n(e){if("object"!==(void 0===e?"undefined":s(e)))void 0;else{var t=Object.keys(e);-1!==t.indexOf(f)||c[f]||void 0,t.forEach(function(r){var n=e[r],o=c[r]=c[r]||{};[i.MAIN,i.TEST,i.LOCAL].forEach(function(e){var t=(n[e]||"").trim();t&&(Object(a.isValidAddr)(t)?o[e]=t:void 0)})})}}function o(){var e=0<arguments.length&&arguments[0]!==g?arguments[0]:"",t=i.get();return(c[e||f]||{})[t]||""}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"set",function(){return n}),r.d(t,"get",function(){return o});var i=r(3),a=r(0),u=r(22);r.d(t,"query",function(){return u.a});var s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)},c={},f="default"},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(23);r.d(t,"getAddr",function(){return n.a})},function(e,t,r){r(10),e.exports=r(25)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(11),o=r(12),i=r(15),a=r(2),u=r(0),s=r(8),c=r(3),f=r(7),l=r(24),d={NebPay:m,nebPay:v,BigNumber:p,error:n.a,core:o,tx:i,ua:a,util:u,user:s,env:c,contract:f};d.config=d.core.config,d.query=d.contract.query,d.call=d.tx.call,d.getTxResult=d.tx.getTxResult,d.ready=d.util.ready,d.ua.isNasNano=d.ua.isWalletMobileApp,d.checkTx=function(e,t){return void 0,d.tx.getTxResult(e,t)},Object(l.a)(),d.VERSION="0.2.1",void 0!==h&&(h.Nasa=d),t.default=d},function(e,t,r){var n=r(1);r.d(t,"a",function(){return n})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);r.d(t,"config",function(){return n.a})},function(e,t,r){t.a=function(e){var n=[i.LOCAL,i.TEST,i.MAIN],o=["endpoint"];Object(a.a)(e,function(t,e){if(n.includes(e)&&"object"===(void 0===t?"undefined":s(t))){var r={};o.forEach(function(e){t[e]&&(r[e]=t[e])}),Object.assign(u.a[e],r)}})};var i=r(3),a=r(14),u=r(4),s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)}},function(e,t,r){t.a=function(r,n){"function"==typeof n&&(r&&"object"===(void 0===r?"undefined":o(r))?Object.keys(r).forEach(function(e){var t=r[e];n(t,e)}):Array.isArray(r)&&r.forEach(n))};var o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(16);r.d(t,"getTxResult",function(){return n.a});var o=r(21);r.d(t,"call",function(){return o.a})},function(e,t,r){function c(e,t){var r={type:e.type,nonce:e.nonce,gasPrice:e.gas_price||e.gasPrice,gasLimit:e.gas_limit||e.gasLimit,gasUsed:e.gas_used||e.gasUsed,chainId:e.chainId,from:e.from,to:e.to,value:e.value,hash:e.hash,status:e.status,timestamp:e.timestamp};if(t)r.execError=t;else{var n=e.execute_result;try{n=JSON.parse(n)}catch(e){}r.execResult=n}return r}t.a=function(n){var o=1<arguments.length&&arguments[1]!==g?arguments[1]:{};return Object(h.isValidPayId)(n)?new Promise(function(a,u){function t(){v.queryPayInfo(n,Object(d.b)()).then(function(e){var t={};try{t=JSON.parse(e)}catch(e){void 0}if(0===t.code){var r=t.data||{};if(0===r.status){var n=void 0;r.execute_error&&(n=Object(p.a)(r.execute_error)),n||(n=f.TX_FAILED,"call"===r.type&&(n=f.CALL_FAILED),"deploy"===r.type&&(n=f.DEPLOY_FAILED)),a(c(r,n))}else 1===r.status?a(c(r)):2===r.status?s():u(new Error(f.TX_STATUS_UNKNOWN));var o=r.from;Object(h.isValidAddr)(o)&&Object(l.b)(o)}else{var i=t.msg||f.SERVER_ERROR;void 0,s()}},function(e){void 0,s()})}function s(){var e=r.shift();e?setTimeout(t,1e3*e):u(new Error(f.TX_TIMEOUT))}var r=[10,5,7,8,15,15];if(o.noWait)t();else if(i.isWalletExtensionInstalled()){var e=r.shift();setTimeout(t,1e3*e)}else t()}):Promise.reject(new Error(f.INVALID_ARG))};var f=r(1),i=r(2),l=r(5),d=r(4),h=r(0),p=r(6)},function(e,t,r){function n(){return"function"==typeof f.fetch}function o(){return"function"==typeof String.prototype.includes}function i(){return"function"==typeof Array.prototype.includes}function a(){return"function"==typeof Object.assign}r.d(t,"b",function(){return n}),r.d(t,"d",function(){return o}),r.d(t,"a",function(){return i}),r.d(t,"c",function(){return a})},function(e,t,r){function n(){l=Object(c.a)(c.b)}function o(){return f||n(),l.isMobileDevice}function i(){return f||n(),!l.isMobileDevice}function a(){return f||n(),l.isChrome&&i()}function u(){return f||n(),"wechat"===l.browser}function s(){return/nasnanoapp/i.test(c.b.str)}r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return s});var c=r(19),f=!1,l=void 0},function(e,t,r){function n(e){var t=e.str.toLowerCase(),r=d.str.includes;if(e.isSafari=/\bapple\b/i.test(navigator.vendor)&&/\bsafari\b/i.test(t),e.isChrome=r(t,"chrome")||r(t,"crios"),e.osVersion="",e.isIOS=/\(i(?:phone|pod|pad)\b/.test(t)||/\bios \d+\./.test(t),e.isIOS)e.isIPad=/\(ipad\b/.test(t),e.isIPod=/\(ipod\b/.test(t),e.isIPhone=/\(iphone\b/.test(t),e.osVersion=(/[\/; i]os[\/: _](\d+(?:[\._]\d+)?)[\._; ]/.exec(t)||[0,""])[1].replace("_",".");else{var n=r(t,"android"),o=/\badr\b/.test(t)&&/\blinux;\s*u;/.test(t),i=/juc\s*\(linux;\s*u;\s*\d+\.\d+/.test(t);e.isAndroid=n||o||i,e.osVersion=o||i?(/\badr[\/: ]?(\d+\.\d)\d*\b/.exec(t)||/\blinux;\s*u;\s*(\d+\.\d)\d*\b/.exec(t)||[0,""])[1]:(/\bandroid(?:_os)?[\/: ]?(\d+\.\d)\d*\b/.exec(t)||[0,""])[1]}r(t,"windows phone")&&(e.isIOS=e.isAndroid=!1,e.osVersion=""),e.osVersion&&!r(e.osVersion,".")&&(e.osVersion+=".0"),e.isMobileDevice=!(!e.isIOS&&!e.isAndroid);var a="";r(t,"micromessenger")?a="wechat":r(t,"ucbrowser")||r(t,"ucweb")||r(t," uc applewebkit")?a="uc":r(t,"baiduhd")||r(t,"baiduboxapp")?a="baidu-app":r(t,"baidubrowser")?a="baidu-browser":r(t,"mqqbrowser")?a="m-qq-browser":r(t,"miuibrowser")?a="miui":r(t,"_weibo_")||r(t," weibo ")?a="weibo":r(t,"firefox")?a="firefox":r(t,"opera")?a="opera":r(t," edge/")?a="edge":r(t,"iemobile")?a="ie-mobile":e.isChrome?(a="chrome",e.isAndroid&&/\bwv\b/.test(t)&&(a="chrome-webview")):e.isSafari&&(a="safari"),"chrome"!==a&&(e.isChrome=!1),"safari"!==a&&(e.isSafari=!1);var u="",s="",c=/chrome[^\d]*([\.\d]*)[ ;\/]/.exec(t);if(c)u="chrome",s=l(c[1]);else{var f=/webkit[^\d]*([\.\d]*)\+*[ ;\/]/.exec(t);f&&(u="webkit",s=l(f[1]))}return u||(r(t,"webkit")?u="webkit":e.isIOS?u="webkit":e.isAndroid&&"m-qq-browser"===a&&(u="webkit"),"firefox"!==a||e.isIOS||(u="gecko"),"opera"===a&&!e.isIOS&&r(t,"presto")&&(u="presto")),"edge"===a?(u="edge",s=""):"ie-mobile"===a&&(u=s=""),e.browser=a,e.engine=u,e.engineVersion=s,e}function l(e,t){var r=e.split(".");return r.length=t||2,o.compact(r).join(".")}r.d(t,"b",function(){return i}),r.d(t,"a",function(){return n});var d=f.gearbox||{};d.str=d.str||{},d.str.includes=d.str.includes||function(e,t){return String(e).includes(t)};var o={compact:function(e){return e}},i={};i.isTouchDevice="ontouchstart"in f&&"ontouchmove"in f&&"ontouchend"in f,i.str=navigator.userAgent},function(e,t,r){function n(){return"interactive"===l.readyState||"complete"===l.readyState}t.a=function(e){"function"==typeof e&&(i.push(e),a||(a=new Promise(function(r,e){o.isDesktopChrome()?o.isWalletExtensionInstalled()?r(!0):setTimeout(function e(t){o.isWalletExtensionInstalled()?r(!0):t?r(!1):setTimeout(e,100,n())},100,n()):r(!1)})),a.then(function(e){!function(){for(;i.length;){var e=i.shift();try{e()}catch(e){void 0}}}()}))};var o=r(2),i=[],a=void 0},function(e,t,r){t.a=function(e,a){var u=2<arguments.length&&arguments[2]!==g?arguments[2]:[],s=3<arguments.length&&arguments[3]!==g?arguments[3]:{},c=Object(o.isValidAddr)(e)?e:Object(n.get)(e);return c?a&&Array.isArray(u)?new Promise(function(n,o){var e=c,t=s.value||"0",r={qrcode:{showQRCode:!1},listener:function(e,t){if("string"==typeof t){(t=t.toLowerCase()).includes("rejected by user")&&o(new Error(f.TX_REJECTED_BY_USER)),(t.includes("stream terminated")||t.includes("refused_stream"))&&o(new Error(f.SERVER_ERROR)),t.includes("import wallet")&&o(new Error(f.EXTENSION_NO_WALLET));var r=Object(h.a)(t);o(new Error(r))}else t.error?o(new Error(f.PAY_ID_REG_FAILED)):t.txhash&&(t.txhash,n({payId:e,txHash:t.txhash}))}};r=Object.assign({},Object(d.b)(),r);var i=v.call(e,t,String(a),JSON.stringify(u),r);i,l.isWalletExtensionInstalled()||n({payId:i})}):Promise.reject(new Error(f.INVALID_ARG)):Promise.reject(new Error(f.INVALID_CONTRACT_ADDR))};var f=r(1),l=r(2),d=r(4),n=r(7),o=r(0),h=r(6);"function"==typeof Symbol&&_typeof(Symbol.iterator)},function(e,t,r){t.a=function(e,t){var r=2<arguments.length&&arguments[2]!==g?arguments[2]:[],n=3<arguments.length&&arguments[3]!==g?arguments[3]:{},o=Object(d.isValidAddr)(e)?e:Object(l.get)(e);if(!o)return Promise.reject(new Error(s.INVALID_CONTRACT_ADDR));if(!t||!Array.isArray(r))return Promise.reject(new Error(s.INVALID_ARG));var i=n.from||c.a();if(!Object(d.isValidAddr)(i))return Promise.reject(new Error(s.INVALID_USER_ADDR));var a=Object(f.c)("endpoint")+"v1/user/call",u={from:i,to:o,value:"0",nonce:"0",gasPrice:"1000000",gasLimit:"2000000",type:"call",contract:{function:String(t),args:JSON.stringify(r)}};return fetch(a,{body:JSON.stringify(u),headers:{"content-type":"application/json"},method:"POST",cache:"no-cache",mode:"cors"}).then(function(e){if(e.ok)return e.json();throw new Error(s.INVALID_REQUEST)},function(){throw new Error(s.SERVER_ERROR)}).then(function(e){var t=e.result||{},r={estimateGas:t.estimate_gas},n=t.execute_err;if("contract check failed"===n)throw new Error(s.INVALID_CONTRACT);if(n&&"insufficient balance"!==n)r.execError=Object(h.a)(n);else{var o=t.result;try{o=JSON.parse(t.result)}catch(e){}r.execResult=o}return r})};var s=r(1),c=r(5),f=r(4),l=r(7),d=r(0),h=r(6)},function(e,t,r){t.a=function(){return Object(n.isWalletExtensionInstalled)()?"object"===("undefined"==typeof NasExtWallet?"undefined":a(NasExtWallet))&&"function"==typeof NasExtWallet.getUserAddress?new Promise(function(t,e){NasExtWallet.getUserAddress(function(e){t(e)}),setTimeout(function(){e(new Error(o.EXTENSION_NO_WALLET))},300)}):(f.postMessage({target:"contentscript",data:{},method:"getAccount"},"*"),new Promise(function(n,e){f.addEventListener("message",function e(t){var r=((t.data||{}).data||{}).account||"";(r=String(r))&&Object(i.isValidAddr)(r)&&(f.removeEventListener("message",e,!1),n(r))},!1),setTimeout(function(){e(new Error(o.EXTENSION_NO_WALLET))},300)})):Promise.reject(new Error(o.EXTENSION_NOT_INSTALLED))};var o=r(1),i=r(0),n=r(2),a="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return _typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":_typeof(e)}},function(e,t,r){t.a=function(){l.addEventListener("DOMContentLoaded",function(){setTimeout(function(){n.getAddr().then(function(e){o.b(e)},function(){})},200)})};var n=r(8),o=r(5)},function(e,t){}])}}(window,document);