/*! Nasa.js v0.2.1 | LGPL-3.0 | https://github.com/NasaTeam/Nasa.js */
void function(e,t,r){if(!e.Nasa){var n=e;require=function(){function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return o(r||e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(r,n,o){"use strict";var i=function(){if("undefined"!=typeof e){var t=navigator.userAgent.toLowerCase();if(t.match(/chrome\/([\d\.]+)/))return!0}return!1},a=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("mobile")>-1},u=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("nasnanoapp")>-1},s=function(){var e=navigator.userAgent.toLowerCase();return e.indexOf("micromessenger")>-1},c=function(e){var t,r,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",o="";for(t=0;e>t;t+=1)r=Math.random()*n.length,r=Math.floor(r),o+=n.charAt(r);return o},f=function(){function e(){var e=t.createElement("style");return e.type="text/css",t.head.appendChild(e),e.sheet}var r=e();return function(e,t,n){n=n||0,r.insertRule(e+"{"+t+"}",n)}}();n.exports={isChrome:i,isMobile:a,isNano:u,isWechat:s,randomCode:c,addCssRule:f}},{}],2:[function(r,n,o){"use strict";function i(t,r){var n=s.nanoScheme(r.debug);n=n+"://virtual?params="+JSON.stringify(t),e.location.href=n,!c.isNano()&&r.mobile.showInstallTip&&a(function(e){e||u(r)})}function a(e){function r(r){e(r>3e3||t.hidden||t.webkitHidden?1:0)}var n,o=+new Date,i=0;n=setInterval(function(){i++;var e=+new Date-o;(i>=100||e>3e3)&&(clearInterval(n),r(e))},20)}function u(r){var n=t.createElement("BUTTON");n.className="install",n.innerHTML=r.mobile.installTip||"INSTALL NASNano/下载星云钱包";var o="text-align: center;    background-color: #000;    color: #fff;    border-radius: 20px;    width: 80%;    height: 40px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";c.addCssRule(".install",o);var i=t.createElement("div");i.className="install-background",o="position: fixed;\tbottom:0;\tz-index:1000;\theight:40px;    width:100%;\tbackground-color: rgba(0, 0, 0, 0);",c.addCssRule(".install-background",o),i.appendChild(n);var a=t.getElementsByTagName("body"),u=a[0];u.appendChild(i),n.onclick=function(){u.removeChild(i),i=null,e.location.href="https://nano.nebulas.io/"}}var s=r("./config"),c=r("./Utils");n.exports=i},{"./Utils":1,"./config":3}],3:[function(e,t,r){"use strict";var n="https://pay.nebulas.io/api/mainnet/pay",o="https://pay.nebulas.io/api/pay",i=function(e){return e=e||!1,e?o:n},a=function(e){return e=e||!1,e?"openapp.NASnano.testnet":"openapp.NASnano"};t.exports={payUrl:i,nanoScheme:a,mainnetUrl:n,testnetUrl:o}},{}],4:[function(t,n,o){"use strict";var i={},a=function(t){t.listener&&(i[t.serialNumber]=t.listener),t.listener=r,e.postMessage({src:"nebPay",logo:"nebulas",params:t},"*")};e.addEventListener("message",function(e){if(console.log("nebpay: received resp.data: "+JSON.stringify(e.data)),"content"===e.data.src){var t=e.data.serialNumber,r=i[t];"function"==typeof r&&r(t,e.data.resp)}}),n.exports=a},{}],5:[function(e,t,r){"use strict";var n=function(e,t){var r={url:e,method:"GET",body:t};return i(r)},o=function(e,t){var r={url:e,method:"POST",body:t};return i(r)},i=function(e){return new Promise(function(t,r){var n=new XMLHttpRequest;n.open(e.method||"GET",e.url),e.headers&&Object.keys(e.headers).forEach(function(t){n.setRequestHeader(t,e.headers[t])}),n.onload=function(){n.status>=200&&n.status<300?t(n.response):r(n.statusText)},n.onerror=function(){return r(n.statusText)},n.send(e.body)})};t.exports={get:n,post:o,request:i}},{}],6:[function(e,t,r){"use strict";var n=e("bignumber.js"),o=e("./Utils"),i=e("./qrcode"),a=e("./extensionHandler"),u=e("./appHandler"),s=e("./config"),c=function(e,t){this.appKey=e,this.appSecret=t};c.prototype={submit:function(e,t,r,c,f){f.serialNumber=o.randomCode(32),r=r||"0";var l=new n(r).times("1000000000000000000"),d={serialNumber:f.serialNumber,goods:f.goods,pay:{currency:e,to:t,value:l.toString(10),payload:c},callback:f.callback||s.payUrl(f.debug),listener:f.listener,nrc20:f.nrc20};o.isChrome()&&!o.isMobile()&&f.extension.openExtension&&a(d);var h={category:"jump",des:"confirmTransfer",pageParams:d};return o.isMobile()&&u(h,f),f.qrcode.showQRCode&&!o.isNano()&&i.showQRCode(JSON.stringify(h),f),f.serialNumber}},t.exports=c},{"./Utils":1,"./appHandler":2,"./config":3,"./extensionHandler":4,"./qrcode":7,"bignumber.js":8}],7:[function(r,n,o){"use strict";var i=r("qrcode"),a=r("./Utils"),u=function(e){var r=t.createElement("canvas");r.className="qrcode";var n="box-shadow: 2px 2px 12px lightgray;";a.addCssRule(".qrcode",n);var o=t.createElement("div");o.className="qrcode-container";var i="text-align: center;    background-color: #fff0;    border-radius: 20px;    width: 300px;    height: 300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);";a.addCssRule(".qrcode-container",i),o.appendChild(r);var u=t.createElement("BUTTON");u.className="complete",u.innerHTML=e.qrcode.completeTip||"COMPLETE/完成支付",i="background-color: #000;\tborder-radius: 4px;\twidth: 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 20px;\tcolor: #fff;\t",a.addCssRule(".complete",i),o.appendChild(u);var c=t.createElement("BUTTON");c.className="cancel",c.innerHTML=e.qrcode.cancelTip||"CANCEL/取消支付",i="background-color: #666;\tborder-radius: 4px;\twidth: 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 10px;\tmargin-bottom: 20px;\tcolor: #fff;\t",a.addCssRule(".cancel",i),o.appendChild(c);var f=t.createElement("div");f.className="qrcode-background",i="position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);",a.addCssRule(".qrcode-background",i),f.appendChild(o);var l=t.getElementsByTagName("body"),d=l[0];return d.appendChild(f),f.onclick=function(){null!==f&&(d.removeChild(f),s(!1,e))},c.onclick=function(){d.removeChild(f),f=null,s(!1,e)},u.onclick=function(){d.removeChild(f),f=null,s(!0,e)},r},s=function(e,t){"undefined"!=typeof t.listener&&t.listener(t.serialNumber,e)},c=function(t,r){if("undefined"!=typeof e){var n=r.qrcode.container;"undefined"==typeof n&&(n=u(r)),i.toCanvas(n,t,function(e){e&&console.error(e)})}};n.exports={showQRCode:c}},{"./Utils":1,qrcode:13}],8:[function(e,t,r){!function(e){"use strict";function r(e){function t(e,r){var n,o,i,a,u,s,c=this;if(!(c instanceof t))return new t(e,r);if(null!=r&&H(r,2,64,M,"base")){if(r=0|r,s=e+"",10==r)return c=new t(e instanceof t?e:s),C(c,D+c.e+1,U);if((a="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+b.slice(0,r)+"]+")+"(?:\\."+n+")?$",r<37?"i":"").test(s))return L(c,s,a,r);a?(c.s=1/e<0?(s=s.slice(1),-1):1,Y&&s.replace(/^0\.0*|\./,"").length>15&&O(M,y,e),a=!1):c.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1,s=d(s,10,r,c.s)}else{if(e instanceof t)return c.s=e.s,c.e=e.e,c.c=(e=e.c)?e.slice():e,void(M=0);if((a="number"==typeof e)&&0*e==0){if(c.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,i=e;i>=10;i/=10,o++);return c.e=o,c.c=[e],void(M=0)}s=e+""}else{if(!h.test(s=e+""))return L(c,s,a);c.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1}}for((o=s.indexOf("."))>-1&&(s=s.replace(".","")),(i=s.search(/e/i))>0?(o<0&&(o=i),o+=+s.slice(i+1),s=s.substring(0,i)):o<0&&(o=s.length),i=0;48===s.charCodeAt(i);i++);for(u=s.length;48===s.charCodeAt(--u););if(s=s.slice(i,u+1))if(u=s.length,a&&Y&&u>15&&(e>N||e!==g(e))&&O(M,y,c.s*e),o=o-i-1,o>F)c.c=c.e=null;else if(o<V)c.c=[c.e=0];else{if(c.e=o,c.c=[],i=(o+1)%E,o<0&&(i+=E),i<u){for(i&&c.c.push(+s.slice(0,i)),u-=E;i<u;)c.c.push(+s.slice(i,i+=E));s=s.slice(i),i=E-s.length}else i-=u;for(;i--;s+="0");c.c.push(+s)}else c.c=[c.e=0];M=0}function d(e,r,n,i){var a,u,c,l,d,h,p,g=e.indexOf("."),m=D,v=U;for(n<37&&(e=e.toLowerCase()),g>=0&&(c=W,W=0,e=e.replace(".",""),p=new t(n),d=p.pow(e.length-g),W=c,p.c=s(f(o(d.c),d.e),10,r),p.e=p.c.length),h=s(e,n,r),u=c=h.length;0==h[--c];h.pop());if(!h[0])return"0";if(g<0?--u:(d.c=h,d.e=u,d.s=i,d=P(d,p,m,v,r),h=d.c,l=d.r,u=d.e),a=u+m+1,g=h[a],c=r/2,l=l||a<0||null!=h[a+1],l=v<4?(null!=g||l)&&(0==v||v==(d.s<0?3:2)):g>c||g==c&&(4==v||l||6==v&&1&h[a-1]||v==(d.s<0?8:7)),a<1||!h[0])e=l?f("1",-m):"0";else{if(h.length=a,l)for(--r;++h[--a]>r;)h[a]=0,a||(++u,h=[1].concat(h));for(c=h.length;!h[--c];);for(g=0,e="";g<=c;e+=b.charAt(h[g++]));e=f(e,u)}return e}function x(e,r,n,i){var a,u,s,l,d;if(n=null!=n&&H(n,0,8,i,v)?0|n:U,!e.c)return e.toString();if(a=e.c[0],s=e.e,null==r)d=o(e.c),d=19==i||24==i&&s<=k?c(d,s):f(d,s);else if(e=C(new t(e),r,n),u=e.e,d=o(e.c),l=d.length,19==i||24==i&&(r<=u||u<=k)){for(;l<r;d+="0",l++);d=c(d,u)}else if(r-=s,d=f(d,u),u+1>l){if(--r>0)for(d+=".";r--;d+="0");}else if(r+=u-l,r>0)for(u+1==l&&(d+=".");r--;d+="0");return e.s<0&&a?"-"+d:d}function _(e,r){var n,o,i=0;for(u(e[0])&&(e=e[0]),n=new t(e[0]);++i<e.length;){if(o=new t(e[i]),!o.s){n=o;break}r.call(n,o)&&(n=o)}return n}function S(e,t,r,n,o){return(e<t||e>r||e!=l(e))&&O(n,(o||"decimal places")+(e<t||e>r?" out of range":" not an integer"),e),!0}function I(e,t,r){for(var n=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,n++);return(r=n+r*E-1)>F?e.c=e.e=null:r<V?e.c=[e.e=0]:(e.e=r,e.c=t),e}function O(e,t,r){var n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+r);throw n.name="BigNumber Error",M=0,n}function C(e,t,r,n){var o,i,a,u,s,c,f,l=e.c,d=A;if(l){e:{for(o=1,u=l[0];u>=10;u/=10,o++);if(i=t-o,i<0)i+=E,a=t,s=l[c=0],f=s/d[o-a-1]%10|0;else if(c=p((i+1)/E),c>=l.length){if(!n)break e;for(;l.length<=c;l.push(0));s=f=0,o=1,i%=E,a=i-E+1}else{for(s=u=l[c],o=1;u>=10;u/=10,o++);i%=E,a=i-E+o,f=a<0?0:s/d[o-a-1]%10|0}if(n=n||t<0||null!=l[c+1]||(a<0?s:s%d[o-a-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(i>0?a>0?s/d[o-a]:0:l[c-1])%10&1||r==(e.s<0?8:7)),t<1||!l[0])return l.length=0,n?(t-=e.e+1,l[0]=d[(E-t%E)%E],e.e=-t||0):l[0]=e.e=0,e;if(0==i?(l.length=c,u=1,c--):(l.length=c+1,u=d[E-i],l[c]=a>0?g(s/d[o-a]%d[a])*u:0),n)for(;;){if(0==c){for(i=1,a=l[0];a>=10;a/=10,i++);for(a=l[0]+=u,u=1;a>=10;a/=10,u++);i!=u&&(e.e++,l[0]==w&&(l[0]=1));break}if(l[c]+=u,l[c]!=w)break;l[c--]=0,u=1}for(i=l.length;0===l[--i];l.pop());}e.e>F?e.c=e.e=null:e.e<V&&(e.c=[e.e=0])}return e}var P,L,M=0,B=t.prototype,j=new t(1),D=20,U=4,k=-7,q=21,V=-1e7,F=1e7,Y=!0,H=S,z=!1,J=1,W=0,K={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};return t.another=r,t.ROUND_UP=0,t.ROUND_DOWN=1,t.ROUND_CEIL=2,t.ROUND_FLOOR=3,t.ROUND_HALF_UP=4,t.ROUND_HALF_DOWN=5,t.ROUND_HALF_EVEN=6,t.ROUND_HALF_CEIL=7,t.ROUND_HALF_FLOOR=8,t.EUCLID=9,t.config=t.set=function(){var e,t,r=0,n={},o=arguments,i=o[0],s=i&&"object"==typeof i?function(){if(i.hasOwnProperty(t))return null!=(e=i[t])}:function(){if(o.length>r)return null!=(e=o[r++])};return s(t="DECIMAL_PLACES")&&H(e,0,R,2,t)&&(D=0|e),n[t]=D,s(t="ROUNDING_MODE")&&H(e,0,8,2,t)&&(U=0|e),n[t]=U,s(t="EXPONENTIAL_AT")&&(u(e)?H(e[0],-R,0,2,t)&&H(e[1],0,R,2,t)&&(k=0|e[0],q=0|e[1]):H(e,-R,R,2,t)&&(k=-(q=0|(e<0?-e:e)))),n[t]=[k,q],s(t="RANGE")&&(u(e)?H(e[0],-R,-1,2,t)&&H(e[1],1,R,2,t)&&(V=0|e[0],F=0|e[1]):H(e,-R,R,2,t)&&(0|e?V=-(F=0|(e<0?-e:e)):Y&&O(2,t+" cannot be zero",e))),n[t]=[V,F],s(t="ERRORS")&&(e===!!e||1===e||0===e?(M=0,H=(Y=!!e)?S:a):Y&&O(2,t+m,e)),n[t]=Y,s(t="CRYPTO")&&(e===!0||e===!1||1===e||0===e?e?(e="undefined"==typeof crypto,!e&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?z=!0:Y?O(2,"crypto unavailable",e?void 0:crypto):z=!1):z=!1:Y&&O(2,t+m,e)),n[t]=z,s(t="MODULO_MODE")&&H(e,0,9,2,t)&&(J=0|e),n[t]=J,s(t="POW_PRECISION")&&H(e,0,R,2,t)&&(W=0|e),n[t]=W,s(t="FORMAT")&&("object"==typeof e?K=e:Y&&O(2,t+" not an object",e)),n[t]=K,n},t.max=function(){return _(arguments,B.lt)},t.min=function(){return _(arguments,B.gt)},t.random=function(){var e=9007199254740992,r=Math.random()*e&2097151?function(){return g(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,o,i,a,u,s=0,c=[],f=new t(j);if(e=null!=e&&H(e,0,R,14)?0|e:D,a=p(e/E),z)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(a*=2));s<a;)u=131072*n[s]+(n[s+1]>>>11),u>=9e15?(o=crypto.getRandomValues(new Uint32Array(2)),n[s]=o[0],n[s+1]=o[1]):(c.push(u%1e14),s+=2);s=a/2}else if(crypto.randomBytes){for(n=crypto.randomBytes(a*=7);s<a;)u=281474976710656*(31&n[s])+1099511627776*n[s+1]+4294967296*n[s+2]+16777216*n[s+3]+(n[s+4]<<16)+(n[s+5]<<8)+n[s+6],u>=9e15?crypto.randomBytes(7).copy(n,s):(c.push(u%1e14),s+=7);s=a/7}else z=!1,Y&&O(14,"crypto unavailable",crypto);if(!z)for(;s<a;)u=r(),u<9e15&&(c[s++]=u%1e14);for(a=c[--s],e%=E,a&&e&&(u=A[E-e],c[s]=g(a/u)*u);0===c[s];c.pop(),s--);if(s<0)c=[i=0];else{for(i=-1;0===c[0];c.splice(0,1),i-=E);for(s=1,u=c[0];u>=10;u/=10,s++);s<E&&(i-=E-s)}return f.e=i,f.c=c,f}}(),P=function(){function e(e,t,r){var n,o,i,a,u=0,s=e.length,c=t%T,f=t/T|0;for(e=e.slice();s--;)i=e[s]%T,a=e[s]/T|0,n=f*i+a*c,o=c*i+n%T*T+u,u=(o/r|0)+(n/T|0)+f*a,e[s]=o%r;return u&&(e=[u].concat(e)),e}function r(e,t,r,n){var o,i;if(r!=n)i=r>n?1:-1;else for(o=i=0;o<r;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function o(e,t,r,n){for(var o=0;r--;)e[r]-=o,o=e[r]<t[r]?1:0,e[r]=o*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(i,a,u,s,c){var f,l,d,h,p,m,v,y,b,N,A,T,R,x,_,S,I,O=i.s==a.s?1:-1,P=i.c,L=a.c;if(!(P&&P[0]&&L&&L[0]))return new t(i.s&&a.s&&(P?!L||P[0]!=L[0]:L)?P&&0==P[0]||!L?0*O:O/0:NaN);for(y=new t(O),b=y.c=[],l=i.e-a.e,O=u+l+1,c||(c=w,l=n(i.e/E)-n(a.e/E),O=O/E|0),d=0;L[d]==(P[d]||0);d++);if(L[d]>(P[d]||0)&&l--,O<0)b.push(1),h=!0;else{for(x=P.length,S=L.length,d=0,O+=2,p=g(c/(L[0]+1)),p>1&&(L=e(L,p,c),P=e(P,p,c),S=L.length,x=P.length),R=S,N=P.slice(0,S),A=N.length;A<S;N[A++]=0);I=L.slice(),I=[0].concat(I),_=L[0],L[1]>=c/2&&_++;do{if(p=0,f=r(L,N,S,A),f<0){if(T=N[0],S!=A&&(T=T*c+(N[1]||0)),p=g(T/_),p>1)for(p>=c&&(p=c-1),m=e(L,p,c),v=m.length,A=N.length;1==r(m,N,v,A);)p--,o(m,S<v?I:L,v,c),v=m.length,f=1;else 0==p&&(f=p=1),m=L.slice(),v=m.length;if(v<A&&(m=[0].concat(m)),o(N,m,A,c),A=N.length,f==-1)for(;r(L,N,S,A)<1;)p++,o(N,S<A?I:L,A,c),A=N.length}else 0===f&&(p++,N=[0]);b[d++]=p,N[0]?N[A++]=P[R]||0:(N=[P[R]],A=1)}while((R++<x||null!=N[0])&&O--);h=null!=N[0],b[0]||b.splice(0,1)}if(c==w){for(d=1,O=b[0];O>=10;O/=10,d++);C(y,u+(y.e=d+l*E-1)+1,s,h)}else y.e=l,y.r=+h;return y}}(),L=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,r=/^([^.]+)\.$/,n=/^\.([^.]+)$/,o=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(a,u,s,c){var f,l=s?u:u.replace(i,"");if(o.test(l))a.s=isNaN(l)?null:l<0?-1:1;else{if(!s&&(l=l.replace(e,function(e,t,r){return f="x"==(r=r.toLowerCase())?16:"b"==r?2:8,c&&c!=f?e:t}),c&&(f=c,l=l.replace(r,"$1").replace(n,"0.$1")),u!=l))return new t(l,f);Y&&O(M,"not a"+(c?" base "+c:"")+" number",u),a.s=null}a.c=a.e=null,M=0}}(),B.absoluteValue=B.abs=function(){var e=new t(this);return e.s<0&&(e.s=1),e},B.ceil=function(){return C(new t(this),this.e+1,2)},B.comparedTo=B.cmp=function(e,r){return M=1,i(this,new t(e,r))},B.decimalPlaces=B.dp=function(){var e,t,r=this.c;if(!r)return null;if(e=((t=r.length-1)-n(this.e/E))*E,t=r[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},B.dividedBy=B.div=function(e,r){return M=3,P(this,new t(e,r),D,U)},B.dividedToIntegerBy=B.divToInt=function(e,r){return M=4,P(this,new t(e,r),0,1)},B.equals=B.eq=function(e,r){return M=5,0===i(this,new t(e,r))},B.floor=function(){return C(new t(this),this.e+1,3)},B.greaterThan=B.gt=function(e,r){return M=6,i(this,new t(e,r))>0},B.greaterThanOrEqualTo=B.gte=function(e,r){return M=7,1===(r=i(this,new t(e,r)))||0===r},B.isFinite=function(){return!!this.c},B.isInteger=B.isInt=function(){return!!this.c&&n(this.e/E)>this.c.length-2},B.isNaN=function(){return!this.s},B.isNegative=B.isNeg=function(){return this.s<0},B.isZero=function(){return!!this.c&&0==this.c[0]},B.lessThan=B.lt=function(e,r){return M=8,i(this,new t(e,r))<0},B.lessThanOrEqualTo=B.lte=function(e,r){return M=9,(r=i(this,new t(e,r)))===-1||0===r},B.minus=B.sub=function(e,r){var o,i,a,u,s=this,c=s.s;if(M=10,e=new t(e,r),r=e.s,!c||!r)return new t(NaN);if(c!=r)return e.s=-r,s.plus(e);var f=s.e/E,l=e.e/E,d=s.c,h=e.c;if(!f||!l){if(!d||!h)return d?(e.s=-r,e):new t(h?s:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-r,e):new t(d[0]?s:3==U?-0:0)}if(f=n(f),l=n(l),d=d.slice(),c=f-l){for((u=c<0)?(c=-c,a=d):(l=f,a=h),a.reverse(),r=c;r--;a.push(0));a.reverse()}else for(i=(u=(c=d.length)<(r=h.length))?c:r,c=r=0;r<i;r++)if(d[r]!=h[r]){u=d[r]<h[r];break}if(u&&(a=d,d=h,h=a,e.s=-e.s),r=(i=h.length)-(o=d.length),r>0)for(;r--;d[o++]=0);for(r=w-1;i>c;){if(d[--i]<h[i]){for(o=i;o&&!d[--o];d[o]=r);--d[o],d[i]+=w}d[i]-=h[i]}for(;0==d[0];d.splice(0,1),--l);return d[0]?I(e,d,l):(e.s=3==U?-1:1,e.c=[e.e=0],e)},B.modulo=B.mod=function(e,r){var n,o,i=this;return M=11,e=new t(e,r),!i.c||!e.s||e.c&&!e.c[0]?new t(NaN):!e.c||i.c&&!i.c[0]?new t(i):(9==J?(o=e.s,e.s=1,n=P(i,e,0,3),e.s=o,n.s*=o):n=P(i,e,0,J),i.minus(n.times(e)))},B.negated=B.neg=function(){var e=new t(this);return e.s=-e.s||null,e},B.plus=B.add=function(e,r){var o,i=this,a=i.s;if(M=12,e=new t(e,r),r=e.s,!a||!r)return new t(NaN);if(a!=r)return e.s=-r,i.minus(e);var u=i.e/E,s=e.e/E,c=i.c,f=e.c;if(!u||!s){if(!c||!f)return new t(a/0);if(!c[0]||!f[0])return f[0]?e:new t(c[0]?i:0*a)}if(u=n(u),s=n(s),c=c.slice(),a=u-s){for(a>0?(s=u,o=f):(a=-a,o=c),o.reverse();a--;o.push(0));o.reverse()}for(a=c.length,r=f.length,a-r<0&&(o=f,f=c,c=o,r=a),a=0;r;)a=(c[--r]=c[r]+f[r]+a)/w|0,c[r]=w===c[r]?0:c[r]%w;return a&&(c=[a].concat(c),++s),I(e,c,s)},B.precision=B.sd=function(e){var t,r,n=this,o=n.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(Y&&O(13,"argument"+m,e),e!=!!e&&(e=null)),!o)return null;if(r=o.length-1,t=r*E+1,r=o[r]){for(;r%10==0;r/=10,t--);for(r=o[0];r>=10;r/=10,t++);}return e&&n.e+1>t&&(t=n.e+1),t},B.round=function(e,r){var n=new t(this);return(null==e||H(e,0,R,15))&&C(n,~~e+this.e+1,null!=r&&H(r,0,8,15,v)?0|r:U),n},B.shift=function(e){var r=this;return H(e,-N,N,16,"argument")?r.times("1e"+l(e)):new t(r.c&&r.c[0]&&(e<-N||e>N)?r.s*(e<0?0:1/0):r)},B.squareRoot=B.sqrt=function(){var e,r,i,a,u,s=this,c=s.c,f=s.s,l=s.e,d=D+4,h=new t("0.5");if(1!==f||!c||!c[0])return new t(!f||f<0&&(!c||c[0])?NaN:c?s:1/0);if(f=Math.sqrt(+s),0==f||f==1/0?(r=o(c),(r.length+l)%2==0&&(r+="0"),f=Math.sqrt(r),l=n((l+1)/2)-(l<0||l%2),f==1/0?r="1e"+l:(r=f.toExponential(),r=r.slice(0,r.indexOf("e")+1)+l),i=new t(r)):i=new t(f+""),i.c[0])for(l=i.e,f=l+d,f<3&&(f=0);;)if(u=i,i=h.times(u.plus(P(s,u,d,1))),o(u.c).slice(0,f)===(r=o(i.c)).slice(0,f)){if(i.e<l&&--f,r=r.slice(f-3,f+1),"9999"!=r&&(a||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(C(i,i.e+D+2,1),e=!i.times(i).eq(s));break}if(!a&&(C(u,u.e+D+2,0),u.times(u).eq(s))){i=u;break}d+=4,f+=4,a=1}return C(i,i.e+D+1,U,e)},B.times=B.mul=function(e,r){var o,i,a,u,s,c,f,l,d,h,p,g,m,v,y,b=this,N=b.c,A=(M=17,e=new t(e,r)).c;if(!(N&&A&&N[0]&&A[0]))return!b.s||!e.s||N&&!N[0]&&!A||A&&!A[0]&&!N?e.c=e.e=e.s=null:(e.s*=b.s,N&&A?(e.c=[0],e.e=0):e.c=e.e=null),e;for(i=n(b.e/E)+n(e.e/E),e.s*=b.s,f=N.length,h=A.length,f<h&&(m=N,N=A,A=m,a=f,f=h,h=a),a=f+h,m=[];a--;m.push(0));for(v=w,y=T,a=h;--a>=0;){for(o=0,p=A[a]%y,g=A[a]/y|0,s=f,u=a+s;u>a;)l=N[--s]%y,d=N[s]/y|0,c=g*l+d*p,l=p*l+c%y*y+m[u]+o,o=(l/v|0)+(c/y|0)+g*d,m[u--]=l%v;m[u]=o}return o?++i:m.splice(0,1),I(e,m,i)},B.toDigits=function(e,r){var n=new t(this);return e=null!=e&&H(e,1,R,18,"precision")?0|e:null,r=null!=r&&H(r,0,8,18,v)?0|r:U,e?C(n,e,r):n},B.toExponential=function(e,t){return x(this,null!=e&&H(e,0,R,19)?~~e+1:null,t,19)},B.toFixed=function(e,t){return x(this,null!=e&&H(e,0,R,20)?~~e+this.e+1:null,t,20)},B.toFormat=function(e,t){var r=x(this,null!=e&&H(e,0,R,21)?~~e+this.e+1:null,t,21);if(this.c){var n,o=r.split("."),i=+K.groupSize,a=+K.secondaryGroupSize,u=K.groupSeparator,s=o[0],c=o[1],f=this.s<0,l=f?s.slice(1):s,d=l.length;if(a&&(n=i,i=a,a=n,d-=n),i>0&&d>0){for(n=d%i||i,s=l.substr(0,n);n<d;n+=i)s+=u+l.substr(n,i);a>0&&(s+=u+l.slice(n)),f&&(s="-"+s)}r=c?s+K.decimalSeparator+((a=+K.fractionGroupSize)?c.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+K.fractionGroupSeparator):c):s}return r},B.toFraction=function(e){var r,n,i,a,u,s,c,f,l,d=Y,h=this,p=h.c,g=new t(j),m=n=new t(j),v=c=new t(j);if(null!=e&&(Y=!1,s=new t(e),Y=d,(d=s.isInt())&&!s.lt(j)||(Y&&O(22,"max denominator "+(d?"out of range":"not an integer"),e),e=!d&&s.c&&C(s,s.e+1,1).gte(j)?s:null)),!p)return h.toString();for(l=o(p),a=g.e=l.length-h.e-1,g.c[0]=A[(u=a%E)<0?E+u:u],e=!e||s.cmp(g)>0?a>0?g:m:s,u=F,F=1/0,s=new t(l),c.c[0]=0;f=P(s,g,0,1),i=n.plus(f.times(v)),1!=i.cmp(e);)n=v,v=i,m=c.plus(f.times(i=m)),c=i,g=s.minus(f.times(i=g)),s=i;return i=P(e.minus(n),v,0,1),c=c.plus(i.times(m)),n=n.plus(i.times(v)),c.s=m.s=h.s,a*=2,r=P(m,v,a,U).minus(h).abs().cmp(P(c,n,a,U).minus(h).abs())<1?[m.toString(),v.toString()]:[c.toString(),n.toString()],F=u,r},B.toNumber=function(){return+this},B.toPower=B.pow=function(e,r){var n,o,i,a=g(e<0?-e:+e),u=this;if(null!=r&&(M=23,r=new t(r)),!H(e,-N,N,23,"exponent")&&(!isFinite(e)||a>N&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return n=Math.pow(+u,e),new t(r?n%r:n);for(r?e>1&&u.gt(j)&&u.isInt()&&r.gt(j)&&r.isInt()?u=u.mod(r):(i=r,r=null):W&&(n=p(W/E+2)),o=new t(j);;){if(a%2){if(o=o.times(u),!o.c)break;n?o.c.length>n&&(o.c.length=n):r&&(o=o.mod(r))}if(a=g(a/2),!a)break;u=u.times(u),n?u.c&&u.c.length>n&&(u.c.length=n):r&&(u=u.mod(r))}return r?o:(e<0&&(o=j.div(o)),i?o.mod(i):n?C(o,W,U):o)},B.toPrecision=function(e,t){return x(this,null!=e&&H(e,1,R,24,"precision")?0|e:null,t,24)},B.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=o(r.c),t=null!=e&&H(e,2,64,25,"base")?d(f(t,i),0|e,10,n):i<=k||i>=q?c(t,i):f(t,i),n<0&&r.c[0]&&(t="-"+t)),t},B.truncated=B.trunc=function(){return C(new t(this),this.e+1,1)},B.valueOf=B.toJSON=function(){var e,t=this,r=t.e;return null===r?t.toString():(e=o(t.c),e=r<=k||r>=q?c(e,r):f(e,r),t.s<0?"-"+e:e)},B.isBigNumber=!0,null!=e&&t.config(e),t}function n(e){var t=0|e;return e>0||e===t?t:t-1}function o(e){for(var t,r,n=1,o=e.length,i=e[0]+"";n<o;){for(t=e[n++]+"",r=E-t.length;r--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function i(e,t){var r,n,o=e.c,i=t.c,a=e.s,u=t.s,s=e.e,c=t.e;if(!a||!u)return null;if(r=o&&!o[0],n=i&&!i[0],r||n)return r?n?0:-u:a;if(a!=u)return a;if(r=a<0,n=s==c,!o||!i)return n?0:!o^r?1:-1;if(!n)return s>c^r?1:-1;for(u=(s=o.length)<(c=i.length)?s:c,a=0;a<u;a++)if(o[a]!=i[a])return o[a]>i[a]^r?1:-1;return s==c?0:s>c^r?1:-1}function a(e,t,r){return(e=l(e))>=t&&e<=r}function u(e){return"[object Array]"==Object.prototype.toString.call(e)}function s(e,t,r){for(var n,o,i=[0],a=0,u=e.length;a<u;){for(o=i.length;o--;i[o]*=t);for(i[n=0]+=b.indexOf(e.charAt(a++));n<i.length;n++)i[n]>r-1&&(null==i[n+1]&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function c(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function f(e,t){var r,n;if(t<0){for(n="0.";++t;n+="0");e=n+e}else if(r=e.length,++t>r){for(n="0",t-=r;--t;n+="0");e+=n}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}function l(e){return e=parseFloat(e),e<0?p(e):g(e)}var d,h=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=Math.ceil,g=Math.floor,m=" not a boolean or binary digit",v="rounding mode",y="number type has more than 15 significant digits",b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",w=1e14,E=14,N=9007199254740991,A=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],T=1e7,R=1e9;d=r(),d["default"]=d.BigNumber=d,"function"==typeof define&&define.amd?define(function(){return d}):"undefined"!=typeof t&&t.exports?t.exports=d:(e||(e="undefined"!=typeof self?self:Function("return this")()),e.BigNumber=d)}(this)},{}],9:[function(e,t,r){"use strict";var n=e("window-or-global");t.exports=function(){return"function"==typeof n.Promise&&"function"==typeof n.Promise.prototype.then}},{"window-or-global":39}],10:[function(e,t,r){"use strict";var n={single_source_shortest_paths:function(e,t,r){var o={},i={};i[t]=0;var a=n.PriorityQueue.make();a.push(t,0);for(var u,s,c,f,l,d,h,p,g;!a.empty();){u=a.pop(),s=u.value,f=u.cost,l=e[s]||{};for(c in l)l.hasOwnProperty(c)&&(d=l[c],h=f+d,p=i[c],g="undefined"==typeof i[c],(g||p>h)&&(i[c]=h,a.push(c,h),o[c]=s))}if("undefined"!=typeof r&&"undefined"==typeof i[r]){var m=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(m)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var r,n=[],o=t;o;)n.push(o),r=e[o],o=e[o];return n.reverse(),n},find_path:function(e,t,r){var o=n.single_source_shortest_paths(e,t,r);return n.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var t,r=n.PriorityQueue,o={};e=e||{};for(t in r)r.hasOwnProperty(t)&&(o[t]=r[t]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};"undefined"!=typeof t&&(t.exports=n)},{}],11:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Object.prototype.toString,i=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},a=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t=n.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!r)return!1;var i;for(i in e);return"undefined"==typeof i||n.call(e,i)};t.exports=function u(){var e,t,r,n,o,s,c=arguments[0],f=1,l=arguments.length,d=!1;for("boolean"==typeof c&&(d=c,c=arguments[1]||{},f=2),(null==c||"object"!=typeof c&&"function"!=typeof c)&&(c={});f<l;++f)if(e=arguments[f],null!=e)for(t in e)r=c[t],n=e[t],c!==n&&(d&&n&&(a(n)||(o=i(n)))?(o?(o=!1,s=r&&i(r)?r:[]):s=r&&a(r)?r:{},c[t]=u(d,s,n)):"undefined"!=typeof n&&(c[t]=n));return c}},{}],12:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],13:[function(e,t,n){function o(e,t,n,o,u){var s=[].slice.call(arguments,1),c=s.length,f="function"==typeof s[c-1];if(!f&&!i())throw new Error("Callback required as last argument");if(!f){if(c<1)throw new Error("Too few arguments provided");return 1===c?(n=t,t=o=r):2!==c||t.getContext||(o=n,n=t,t=r),new Promise(function(r,i){try{var u=a.create(n,o);r(e(u,t,o))}catch(s){i(s)}})}if(c<2)throw new Error("Too few arguments provided");2===c?(u=n,n=t,t=o=r):3===c&&(t.getContext&&"undefined"==typeof u?(u=o,o=r):(u=o,o=n,n=t,t=r));try{var l=a.create(n,o);u(null,e(l,t,o))}catch(d){u(d)}}var i=e("can-promise"),a=e("./core/qrcode"),u=e("./renderer/canvas"),s=e("./renderer/svg-tag.js");n.create=a.create,n.toCanvas=o.bind(null,u.render),n.toDataURL=o.bind(null,u.renderToDataURL),n.toString=o.bind(null,function(e,t,r){return s.render(e,r)})},{"./core/qrcode":29,"./renderer/canvas":35,"./renderer/svg-tag.js":36,"can-promise":9}],14:[function(e,t,r){var n=e("./utils").getSymbolSize;r.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,r=n(e),o=145===r?26:2*Math.ceil((r-13)/(2*t-2)),i=[r-7],a=1;a<t-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},r.getPositions=function(e){for(var t=[],n=r.getRowColCoords(e),o=n.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||t.push([n[i],n[a]]);return t}},{"./utils":33}],15:[function(e,t,r){function n(e){this.mode=o.ALPHANUMERIC,this.data=e}var o=e("./mode"),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];n.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var r=45*i.indexOf(this.data[t]);r+=i.indexOf(this.data[t+1]),e.put(r,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},t.exports=n},{"./mode":26}],16:[function(e,t,r){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){var t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var r=0;r<t;r++)this.putBit(1===(e>>>t-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=n},{}],17:[function(e,t,r){function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new o(e*e),this.data.fill(0),this.reservedBit=new o(e*e),this.reservedBit.fill(0)}var o=e("../utils/buffer");n.prototype.set=function(e,t,r,n){var o=e*this.size+t;this.data[o]=r,n&&(this.reservedBit[o]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=n},{"../utils/buffer":38}],18:[function(e,t,r){function n(e){this.mode=i.BYTE,this.data=new o(e)}var o=e("../utils/buffer"),i=e("./mode");n.getBitsLength=function(e){return 8*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){for(var t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)},t.exports=n},{"../utils/buffer":38,"./mode":26}],19:[function(e,t,n){var o=e("./error-correction-level"),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],a=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n.getBlocksCount=function(e,t){switch(t){case o.L:return i[4*(e-1)+0];case o.M:return i[4*(e-1)+1];case o.Q:return i[4*(e-1)+2];case o.H:return i[4*(e-1)+3];default:return r}},n.getTotalCodewordsCount=function(e,t){switch(t){case o.L:return a[4*(e-1)+0];case o.M:return a[4*(e-1)+1];case o.Q:return a[4*(e-1)+2];case o.H:return a[4*(e-1)+3];default:return r}}},{"./error-correction-level":20}],20:[function(e,t,r){function n(e){if("string"!=typeof e)throw new Error("Param is not a string");var t=e.toLowerCase();switch(t){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+e)}}r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2},r.isValid=function(e){return e&&"undefined"!=typeof e.bit&&e.bit>=0&&e.bit<4},r.from=function(e,t){if(r.isValid(e))return e;try{return n(e)}catch(o){return t}}},{}],21:[function(e,t,r){var n=e("./utils").getSymbolSize,o=7;
r.getPositions=function(e){var t=n(e);return[[0,0],[t-o,0],[0,t-o]]}},{"./utils":33}],22:[function(e,t,r){var n=e("./utils"),o=1335,i=21522,a=n.getBCHDigit(o);r.getEncodedBits=function(e,t){for(var r=e.bit<<3|t,u=r<<10;n.getBCHDigit(u)-a>=0;)u^=o<<n.getBCHDigit(u)-a;return(r<<10|u)^i}},{"./utils":33}],23:[function(e,t,r){var n=e("../utils/buffer"),o=new n(512),i=new n(256);!function(){for(var e=1,t=0;t<255;t++)o[t]=e,i[e]=t,e<<=1,256&e&&(e^=285);for(t=255;t<512;t++)o[t]=o[t-255]}(),r.log=function(e){if(e<1)throw new Error("log("+e+")");return i[e]},r.exp=function(e){return o[e]},r.mul=function(e,t){return 0===e||0===t?0:o[i[e]+i[t]]}},{"../utils/buffer":38}],24:[function(e,t,r){function n(e){this.mode=o.KANJI,this.data=e}var o=e("./mode"),i=e("./utils");n.getBitsLength=function(e){return 13*e},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var r=i.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else{if(!(r>=57408&&r<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");r-=49472}r=192*(r>>>8&255)+(255&r),e.put(r,13)}},t.exports=n},{"./mode":26,"./utils":33}],25:[function(e,t,n){function o(e,t,r){switch(e){case n.Patterns.PATTERN000:return(t+r)%2===0;case n.Patterns.PATTERN001:return t%2===0;case n.Patterns.PATTERN010:return r%3===0;case n.Patterns.PATTERN011:return(t+r)%3===0;case n.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2===0;case n.Patterns.PATTERN101:return t*r%2+t*r%3===0;case n.Patterns.PATTERN110:return(t*r%2+t*r%3)%2===0;case n.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}n.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var i={N1:3,N2:3,N3:40,N4:10};n.isValid=function(e){return e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},n.from=function(e){return n.isValid(e)?parseInt(e,10):r},n.getPenaltyN1=function(e){for(var t=e.size,r=0,n=0,o=0,a=null,u=null,s=0;s<t;s++){n=o=0,a=u=null;for(var c=0;c<t;c++){var f=e.get(s,c);f===a?n++:(n>=5&&(r+=i.N1+(n-5)),a=f,n=1),f=e.get(c,s),f===u?o++:(o>=5&&(r+=i.N1+(o-5)),u=f,o=1)}n>=5&&(r+=i.N1+(n-5)),o>=5&&(r+=i.N1+(o-5))}return r},n.getPenaltyN2=function(e){for(var t=e.size,r=0,n=0;n<t-1;n++)for(var o=0;o<t-1;o++){var a=e.get(n,o)+e.get(n,o+1)+e.get(n+1,o)+e.get(n+1,o+1);4!==a&&0!==a||r++}return r*i.N2},n.getPenaltyN3=function(e){for(var t=e.size,r=0,n=0,o=0,a=0;a<t;a++){n=o=0;for(var u=0;u<t;u++)n=n<<1&2047|e.get(a,u),u>=10&&(1488===n||93===n)&&r++,o=o<<1&2047|e.get(u,a),u>=10&&(1488===o||93===o)&&r++}return r*i.N3},n.getPenaltyN4=function(e){for(var t=0,r=e.data.length,n=0;n<r;n++)t+=e.data[n];var o=Math.abs(Math.ceil(100*t/r/5)-10);return o*i.N4},n.applyMask=function(e,t){for(var r=t.size,n=0;n<r;n++)for(var i=0;i<r;i++)t.isReserved(i,n)||t.xor(i,n,o(e,i,n))},n.getBestMask=function(e,t){for(var r=Object.keys(n.Patterns).length,o=0,i=1/0,a=0;a<r;a++){t(a),n.applyMask(a,e);var u=n.getPenaltyN1(e)+n.getPenaltyN2(e)+n.getPenaltyN3(e)+n.getPenaltyN4(e);n.applyMask(a,e),u<i&&(i=u,o=a)}return o}},{}],26:[function(e,t,r){function n(e){if("string"!=typeof e)throw new Error("Param is not a string");var t=e.toLowerCase();switch(t){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+e)}}var o=e("./version"),i=e("./regex");r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!o.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},r.getBestModeForData=function(e){return i.testNumeric(e)?r.NUMERIC:i.testAlphanumeric(e)?r.ALPHANUMERIC:i.testKanji(e)?r.KANJI:r.BYTE},r.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},r.isValid=function(e){return e&&e.bit&&e.ccBits},r.from=function(e,t){if(r.isValid(e))return e;try{return n(e)}catch(o){return t}}},{"./regex":31,"./version":34}],27:[function(e,t,r){function n(e){this.mode=o.NUMERIC,this.data=e.toString()}var o=e("./mode");n.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(e){var t,r,n;for(t=0;t+3<=this.data.length;t+=3)r=this.data.substr(t,3),n=parseInt(r,10),e.put(n,10);var o=this.data.length-t;o>0&&(r=this.data.substr(t),n=parseInt(r,10),e.put(n,3*o+1))},t.exports=n},{"./mode":26}],28:[function(e,t,r){var n=e("../utils/buffer"),o=e("./galois-field");r.mul=function(e,t){var r=new n(e.length+t.length-1);r.fill(0);for(var i=0;i<e.length;i++)for(var a=0;a<t.length;a++)r[i+a]^=o.mul(e[i],t[a]);return r},r.mod=function(e,t){for(var r=new n(e);r.length-t.length>=0;){for(var i=r[0],a=0;a<t.length;a++)r[a]^=o.mul(t[a],i);for(var u=0;u<r.length&&0===r[u];)u++;r=r.slice(u)}return r},r.generateECPolynomial=function(e){for(var t=new n([1]),i=0;i<e;i++)t=r.mul(t,[1,o.exp(i)]);return t}},{"../utils/buffer":38,"./galois-field":23}],29:[function(e,t,r){function n(e,t){for(var r=e.size,n=y.getPositions(t),o=0;o<n.length;o++)for(var i=n[o][0],a=n[o][1],u=-1;u<=7;u++)if(!(i+u<=-1||r<=i+u))for(var s=-1;s<=7;s++)a+s<=-1||r<=a+s||(u>=0&&u<=6&&(0===s||6===s)||s>=0&&s<=6&&(0===u||6===u)||u>=2&&u<=4&&s>=2&&s<=4?e.set(i+u,a+s,!0,!0):e.set(i+u,a+s,!1,!0))}function o(e){for(var t=e.size,r=8;r<t-8;r++){var n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function i(e,t){for(var r=v.getPositions(t),n=0;n<r.length;n++)for(var o=r[n][0],i=r[n][1],a=-2;a<=2;a++)for(var u=-2;u<=2;u++)a===-2||2===a||u===-2||2===u||0===a&&0===u?e.set(o+a,i+u,!0,!0):e.set(o+a,i+u,!1,!0)}function a(e,t){for(var r,n,o,i=e.size,a=N.getEncodedBits(t),u=0;u<18;u++)r=Math.floor(u/3),n=u%3+i-8-3,o=1===(a>>u&1),e.set(r,n,o,!0),e.set(n,r,o,!0)}function u(e,t,r){var n,o,i=e.size,a=A.getEncodedBits(t,r);for(n=0;n<15;n++)o=1===(a>>n&1),n<6?e.set(n,8,o,!0):n<8?e.set(n+1,8,o,!0):e.set(i-15+n,8,o,!0),n<8?e.set(8,i-n-1,o,!0):n<9?e.set(8,15-n-1+1,o,!0):e.set(8,15-n-1,o,!0);e.set(i-8,8,1,!0)}function s(e,t){for(var r=e.size,n=-1,o=r-1,i=7,a=0,u=r-1;u>0;u-=2)for(6===u&&u--;;){for(var s=0;s<2;s++)if(!e.isReserved(o,u-s)){var c=!1;a<t.length&&(c=1===(t[a]>>>i&1)),e.set(o,u-s,c),i--,i===-1&&(a++,i=7)}if(o+=n,o<0||r<=o){o-=n,n=-n;break}}}function c(e,t,r){var n=new g;r.forEach(function(t){n.put(t.mode.bit,4),n.put(t.getLength(),T.getCharCountIndicator(t.mode,e)),t.write(n)});var o=h.getSymbolTotalCodewords(e),i=w.getTotalCodewordsCount(e,t),a=8*(o-i);for(n.getLengthInBits()+4<=a&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);for(var u=(a-n.getLengthInBits())/8,s=0;s<u;s++)n.put(s%2?17:236,8);return f(n,e,t)}function f(e,t,r){for(var n=h.getSymbolTotalCodewords(t),o=w.getTotalCodewordsCount(t,r),i=n-o,a=w.getBlocksCount(t,r),u=n%a,s=a-u,c=Math.floor(n/a),f=Math.floor(i/a),l=f+1,p=c-f,g=new E(p),m=0,v=new Array(a),y=new Array(a),b=0,N=new d(e.buffer),A=0;A<a;A++){var T=A<s?f:l;v[A]=N.slice(m,m+T),y[A]=g.encode(v[A]),m+=T,b=Math.max(b,T)}var R,x,_=new d(n),S=0;for(R=0;R<b;R++)for(x=0;x<a;x++)R<v[x].length&&(_[S++]=v[x][R]);for(R=0;R<p;R++)for(x=0;x<a;x++)_[S++]=y[x][R];return _}function l(e,t,r,f){var l;if(x(e))l=R.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var d=t;if(!d){var p=R.rawSplit(e);d=N.getBestVersionForData(p,r)}l=R.fromString(e,d||40)}var g=N.getBestVersionForData(l,r);if(!g)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<g)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+g+".\n")}else t=g;var v=c(t,r,l),y=h.getSymbolSize(t),w=new m(y);return n(w,t),o(w),i(w,t),u(w,r,0),t>=7&&a(w,t),s(w,v),f||(f=b.getBestMask(w,u.bind(null,w,r))),b.applyMask(f,w),u(w,r,f),{modules:w,version:t,errorCorrectionLevel:r,maskPattern:f,segments:l}}var d=e("../utils/buffer"),h=e("./utils"),p=e("./error-correction-level"),g=e("./bit-buffer"),m=e("./bit-matrix"),v=e("./alignment-pattern"),y=e("./finder-pattern"),b=e("./mask-pattern"),w=e("./error-correction-code"),E=e("./reed-solomon-encoder"),N=e("./version"),A=e("./format-info"),T=e("./mode"),R=e("./segments"),x=e("isarray");r.create=function(e,t){if("undefined"==typeof e||""===e)throw new Error("No input text");var r,n,o=p.M;return"undefined"!=typeof t&&(o=p.from(t.errorCorrectionLevel,p.M),r=N.from(t.version),n=b.from(t.maskPattern),t.toSJISFunc&&h.setToSJISFunction(t.toSJISFunc)),l(e,r,o,n)}},{"../utils/buffer":38,"./alignment-pattern":14,"./bit-buffer":16,"./bit-matrix":17,"./error-correction-code":19,"./error-correction-level":20,"./finder-pattern":21,"./format-info":22,"./mask-pattern":25,"./mode":26,"./reed-solomon-encoder":30,"./segments":32,"./utils":33,"./version":34,isarray:12}],30:[function(e,t,n){function o(e){this.genPoly=r,this.degree=e,this.degree&&this.initialize(this.degree)}var i=e("../utils/buffer"),a=e("./polynomial");o.prototype.initialize=function(e){this.degree=e,this.genPoly=a.generateECPolynomial(this.degree)},o.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new i(this.degree);t.fill(0);var r=i.concat([e,t],e.length+this.degree),n=a.mod(r,this.genPoly),o=this.degree-n.length;if(o>0){var u=new i(this.degree);return u.fill(0),n.copy(u,o),u}return n},t.exports=o},{"../utils/buffer":38,"./polynomial":28}],31:[function(e,t,r){var n="[0-9]+",o="[A-Z $%*+\\-./:]+",i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");var a="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+").)+";r.KANJI=new RegExp(i,"g"),r.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),r.BYTE=new RegExp(a,"g"),r.NUMERIC=new RegExp(n,"g"),r.ALPHANUMERIC=new RegExp(o,"g");var u=new RegExp("^"+i+"$"),s=new RegExp("^"+n+"$"),c=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");r.testKanji=function(e){return u.test(e)},r.testNumeric=function(e){return s.test(e)},r.testAlphanumeric=function(e){return c.test(e)}},{}],32:[function(e,t,r){function n(e){return unescape(encodeURIComponent(e)).length}function o(e,t,r){for(var n,o=[];null!==(n=e.exec(r));)o.push({data:n[0],index:n.index,mode:t,length:n[0].length});return o}function i(e){var t,r,n=o(m.NUMERIC,l.NUMERIC,e),i=o(m.ALPHANUMERIC,l.ALPHANUMERIC,e);v.isKanjiModeEnabled()?(t=o(m.BYTE,l.BYTE,e),r=o(m.KANJI,l.KANJI,e)):(t=o(m.BYTE_KANJI,l.BYTE,e),r=[]);var a=n.concat(i,t,r);return a.sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function a(e,t){switch(t){case l.NUMERIC:return d.getBitsLength(e);case l.ALPHANUMERIC:return h.getBitsLength(e);case l.KANJI:return g.getBitsLength(e);case l.BYTE:return p.getBitsLength(e)}}function u(e){return e.reduce(function(e,t){var r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)},[])}function s(e){for(var t=[],r=0;r<e.length;r++){var o=e[r];switch(o.mode){case l.NUMERIC:t.push([o,{data:o.data,mode:l.ALPHANUMERIC,length:o.length},{data:o.data,mode:l.BYTE,length:o.length}]);break;case l.ALPHANUMERIC:t.push([o,{data:o.data,mode:l.BYTE,length:o.length}]);break;case l.KANJI:t.push([o,{data:o.data,mode:l.BYTE,length:n(o.data)}]);break;case l.BYTE:t.push([{data:o.data,mode:l.BYTE,length:n(o.data)}])}}return t}function c(e,t){for(var r={},n={start:{}},o=["start"],i=0;i<e.length;i++){for(var u=e[i],s=[],c=0;c<u.length;c++){var f=u[c],d=""+i+c;s.push(d),r[d]={node:f,lastCount:0},n[d]={};for(var h=0;h<o.length;h++){var p=o[h];r[p]&&r[p].node.mode===f.mode?(n[p][d]=a(r[p].lastCount+f.length,f.mode)-a(r[p].lastCount,f.mode),r[p].lastCount+=f.length):(r[p]&&(r[p].lastCount=f.length),n[p][d]=a(f.length,f.mode)+4+l.getCharCountIndicator(f.mode,t))}}o=s}for(h=0;h<o.length;h++)n[o[h]].end=0;return{map:n,table:r}}function f(e,t){var r,n=l.getBestModeForData(e);if(r=l.from(t,n),r!==l.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+l.toString(r)+".\n Suggested mode is: "+l.toString(n));switch(r!==l.KANJI||v.isKanjiModeEnabled()||(r=l.BYTE),r){case l.NUMERIC:return new d(e);case l.ALPHANUMERIC:return new h(e);case l.KANJI:return new g(e);case l.BYTE:return new p(e)}}var l=e("./mode"),d=e("./numeric-data"),h=e("./alphanumeric-data"),p=e("./byte-data"),g=e("./kanji-data"),m=e("./regex"),v=e("./utils"),y=e("dijkstrajs");r.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(f(t,null)):t.data&&e.push(f(t.data,t.mode)),e},[])},r.fromString=function(e,t){for(var n=i(e,v.isKanjiModeEnabled()),o=s(n),a=c(o,t),f=y.find_path(a.map,"start","end"),l=[],d=1;d<f.length-1;d++)l.push(a.table[f[d]].node);return r.fromArray(u(l))},r.rawSplit=function(e){return r.fromArray(i(e,v.isKanjiModeEnabled()))}},{"./alphanumeric-data":15,"./byte-data":18,"./kanji-data":24,"./mode":26,"./numeric-data":27,"./regex":31,"./utils":33,dijkstrajs:10}],33:[function(e,t,r){var n,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},r.getSymbolTotalCodewords=function(e){return o[e]},r.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},r.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},r.isKanjiModeEnabled=function(){return"undefined"!=typeof n},r.toSJIS=function(e){return n(e)}},{}],34:[function(e,t,n){function o(e,t,o){for(var i=1;i<=40;i++)if(t<=n.getCapacity(i,o,e))return i;return r}function i(e,t){return l.getCharCountIndicator(e,t)+4}function a(e,t){var r=0;return e.forEach(function(e){var n=i(e.mode,t);r+=n+e.getBitsLength()}),r}function u(e,t){for(var o=1;o<=40;o++){var i=a(e,o);if(i<=n.getCapacity(o,t,l.MIXED))return o}return r}var s=e("./utils"),c=e("./error-correction-code"),f=e("./error-correction-level"),l=e("./mode"),d=e("isarray"),h=7973,p=s.getBCHDigit(h);n.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40},n.from=function(e,t){return n.isValid(e)?parseInt(e,10):t},n.getCapacity=function(e,t,r){if(!n.isValid(e))throw new Error("Invalid QR Code version");"undefined"==typeof r&&(r=l.BYTE);var o=s.getSymbolTotalCodewords(e),a=c.getTotalCodewordsCount(e,t),u=8*(o-a);if(r===l.MIXED)return u;var f=u-i(r,e);switch(r){case l.NUMERIC:return Math.floor(f/10*3);case l.ALPHANUMERIC:return Math.floor(f/11*2);case l.KANJI:return Math.floor(f/13);case l.BYTE:default:return Math.floor(f/8)}},n.getBestVersionForData=function(e,t){var r,n=f.from(t,f.M);if(d(e)){if(e.length>1)return u(e,n);if(0===e.length)return 1;r=e[0]}else r=e;return o(r.mode,r.getLength(),n)},n.getEncodedBits=function(e){if(!n.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;s.getBCHDigit(t)-p>=0;)t^=h<<s.getBCHDigit(t)-p;return e<<12|t}},{"./error-correction-code":19,"./error-correction-level":20,"./mode":26,"./utils":33,isarray:12}],35:[function(e,n,o){function i(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function a(){try{return t.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}var u=e("./utils");o.render=function(e,t,n){var o=n,s=t;"undefined"!=typeof o||t&&t.getContext||(o=t,t=r),t||(s=a()),o=u.getOptions(o);var c=u.getImageWidth(e.modules.size,o),f=s.getContext("2d"),l=f.createImageData(c,c);return u.qrToImageData(l.data,e,o),i(f,s,c),f.putImageData(l,0,0),s},o.renderToDataURL=function(e,t,n){var i=n;"undefined"!=typeof i||t&&t.getContext||(i=t,t=r),i||(i={});var a=o.render(e,t,i),u=i.type||"image/png",s=i.rendererOpts||{};return a.toDataURL(u,s.quality)}},{"./utils":37}],36:[function(e,t,r){function n(e,t){var r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function o(e,t,r){var n=e+t;return"undefined"!=typeof r&&(n+=" "+r),n}function i(e,t,r){for(var n="",i=0,a=!1,u=0,s=0;s<e.length;s++){var c=Math.floor(s%t),f=Math.floor(s/t);c||a||(a=!0),e[s]?(u++,s>0&&c>0&&e[s-1]||(n+=a?o("M",c+r,.5+f+r):o("m",i,0),i=0,a=!1),c+1<t&&e[s+1]||(n+=o("h",u),u=0)):i++}return n}var a=e("./utils");r.render=function(e,t,r){var o=a.getOptions(t),u=e.modules.size,s=e.modules.data,c=u+2*o.margin,f=o.color.light.a?"<path "+n(o.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+n(o.color.dark,"stroke")+' d="'+i(s,u,o.margin)+'"/>',d='viewBox="0 0 '+c+" "+c+'"',h=o.width?'width="'+o.width+'" height="'+o.width+'" ':"",p='<svg xmlns="http://www.w3.org/2000/svg" '+h+d+">"+f+l+"</svg>";return"function"==typeof r&&r(null,p),p}},{"./utils":37}],37:[function(e,t,n){function o(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");var r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:255&r,hex:"#"+t.slice(0,6).join("")}}n.getOptions=function(e){e||(e={}),e.color||(e.color={});var t="undefined"==typeof e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&e.width>=21?e.width:r,i=e.scale||4;return{width:n,scale:n?4:i,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},n.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},n.getImageWidth=function(e,t){var r=n.getScale(e,t);return Math.floor((e+2*t.margin)*r)},n.qrToImageData=function(e,t,r){for(var o=t.modules.size,i=t.modules.data,a=n.getScale(o,r),u=Math.floor((o+2*r.margin)*a),s=r.margin*a,c=[r.color.light,r.color.dark],f=0;f<u;f++)for(var l=0;l<u;l++){var d=4*(f*u+l),h=r.color.light;if(f>=s&&l>=s&&f<u-s&&l<u-s){var p=Math.floor((f-s)/a),g=Math.floor((l-s)/a);h=c[i[p*o+g]?1:0]}e[d++]=h.r,e[d++]=h.g,e[d++]=h.b,e[d]=h.a}}},{}],38:[function(e,t,n){"use strict";function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(t){return!1}}function i(e,t,r){return i.TYPED_ARRAY_SUPPORT||this instanceof i?"number"==typeof e?c(this,e):y(this,e,t,r):new i(e,t,r)}function a(e){if(e>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|e}function u(e){return e!==e}function s(e,t){var r;return i.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=i.prototype):(r=e,null===r&&(r=new i(t)),r.length=t),r}function c(e,t){var r=s(e,t<0?0:0|a(t));if(!i.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)r[n]=0;return r}function f(e,t){var r=0|g(t),n=s(e,r),o=n.write(t);return o!==r&&(n=n.slice(0,o)),n}function l(e,t){for(var r=t.length<0?0:0|a(t.length),n=s(e,r),o=0;o<r;o+=1)n[o]=255&t[o];return n}function d(e,t,n,o){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");var a;return a=n===r&&o===r?new Uint8Array(t):o===r?new Uint8Array(t,n):new Uint8Array(t,n,o),i.TYPED_ARRAY_SUPPORT?a.__proto__=i.prototype:a=l(e,a),a}function h(e,t){if(i.isBuffer(t)){var r=0|a(t.length),n=s(e,r);return 0===n.length?n:(t.copy(n,0,0,r),n)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||u(t.length)?s(e,0):l(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return l(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function g(e){if(i.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var t=e.length;return 0===t?0:p(e).length}function m(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function v(e,t,r,n){return m(p(t,e.length-r),e,r,n)}function y(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,r,n):"string"==typeof t?f(e,t,r):h(e,t)}var b=e("isarray");i.TYPED_ARRAY_SUPPORT=o();var w=i.TYPED_ARRAY_SUPPORT?2147483647:1073741823;i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),i.prototype.write=function(e,t,n){t===r?(n=this.length,t=0):n===r&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t=0|t,n=isFinite(n)?0|n:r);var o=this.length-t;if((n===r||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return v(this,e,t,n)},i.prototype.slice=function(e,t){var n=this.length;e=~~e,t=t===r?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var o;if(i.TYPED_ARRAY_SUPPORT)o=this.subarray(e,t),o.__proto__=i.prototype;else{var a=t-e;o=new i(a,r);for(var u=0;u<a;++u)o[u]=this[u+e]}return o},i.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o,a=n-r;if(this===e&&r<t&&t<n)for(o=a-1;o>=0;--o)e[o+t]=this[o+r];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+a),t);return a},i.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}}else"number"==typeof e&&(e=255&e);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;t>>>=0,n=n===r?this.length:n>>>0,e||(e=0);var a;if("number"==typeof e)for(a=t;a<n;++a)this[a]=e;else{var u=i.isBuffer(e)?e:new i(e),s=u.length;for(a=0;a<n-t;++a)this[a+t]=u[a%s]}return this},i.concat=function(e,t){if(!b(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s(null,0);var n;if(t===r)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var o=c(null,t),a=0;for(n=0;n<e.length;++n){var u=e[n];if(!i.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(o,a),a+=u.length}return o},i.byteLength=g,i.prototype._isBuffer=!0,i.isBuffer=function(e){return!(null==e||!e._isBuffer)},t.exports=i},{isarray:12}],39:[function(t,r,n){(function(e){"use strict";r.exports="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof e?e:{})},{}],nebpay:[function(e,t,n){"use strict";var o=e("extend"),i=e("./libs/http"),a=e("./libs/config"),u=e("./libs/pay"),s=e("bignumber.js"),c="NAS",f=function(e,t){this._pay=new u(e,t)};f.config=a;var l={goods:{name:"",desc:"",orderId:"",ext:""},qrcode:{showQRCode:!0,completeTip:r,cancelTip:r,container:r},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:r},callback:r,listener:r,nrc20:r,debug:!1};f.prototype={pay:function(e,t,r){var n={type:"binary"};return r=o(l,r),this._pay.submit(c,e,t,n,r)},nrc20pay:function(e,t,r,n){n.nrc20&&n.nrc20.decimals>0&&(r=r||"0",r=new s(r).times(new s(10).pow(n.nrc20.decimals)).toString(10));var i="";n.nrc20&&n.nrc20.address&&(i=n.nrc20.address);var a=[t,r],u={type:"call","function":"transfer",args:JSON.stringify(a)};return n=o(l,n),this._pay.submit(e,i,"0",u,n)},deploy:function(e,t,r,n){var i={type:"deploy",source:e,sourceType:t,args:r};return n=o(l,n),this._pay.submit(c,"","0",i,n)},call:function(e,t,r,n,i){var a={type:"call","function":r,args:n};return i=o(l,i),this._pay.submit(c,e,t,a,i)},simulateCall:function(e,t,r,n,i){var a={type:"simulateCall","function":r,args:n};return i=o(l,i),this._pay.submit(c,e,t,a,i)},queryPayInfo:function(e,t){t=o(l,t);var r=t.callback||a.payUrl(t.debug);return r=r+"/query?payId="+e,i.get(r)}},t.exports=f},{"./libs/config":3,"./libs/http":5,"./libs/pay":6,"bignumber.js":8,extend:11}]},{},[]);var o=require(8),i=require("nebpay"),a=new i;!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=9)}([function(e,t,r){"use strict";function n(e){return/^n\d[0-9a-zA-Z]{33}$/.test(e)}function o(e){return/^[0-9a-zA-Z]{64}$/.test(e)}function i(e){return/^[0-9a-zA-Z]{32}$/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"isValidAddr",function(){return n}),r.d(t,"isValidTxHash",function(){return o}),r.d(t,"isValidPayId",function(){return i});var a=r(20);r.d(t,"ready",function(){return a.a})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r.d(t,"INVALID_ARG",function(){return n}),r.d(t,"INVALID_USER_ADDR",function(){return o}),r.d(t,"INVALID_CONTRACT_ADDR",function(){return i}),r.d(t,"NETWORK_ERROR",function(){return a}),r.d(t,"SERVER_ERROR",function(){return u}),r.d(t,"INVALID_REQUEST",function(){return s}),r.d(t,"INVALID_CONTRACT",function(){return c}),r.d(t,"TX_TIMEOUT",function(){return f}),r.d(t,"PAY_ID_REG_FAILED",function(){return l}),r.d(t,"TX_REJECTED_BY_USER",function(){return d}),r.d(t,"TX_STATUS_UNKNOWN",function(){return h}),r.d(t,"TX_FAILED",function(){return p}),r.d(t,"CALL_FAILED",function(){return g}),r.d(t,"DEPLOY_FAILED",function(){return m}),r.d(t,"EXTENSION_NOT_INSTALLED",function(){return v}),r.d(t,"EXTENSION_TIMEOUT",function(){return y}),r.d(t,"EXTENSION_NO_WALLET",function(){return b});var n="invalid arg",o="invalid user addr",i="invalid contract addr",a="network error",u="server error",s="invalid request",c="invalid contract",f="tx timeout",l="pay id reg failed",d="tx rejected by user",h="tx status unknown",p="tx failed",g="call failed",m="deploy failed",v="extension not installed",y="extension timeout",b="extension no wallet"},function(t,r,n){"use strict";function o(){return Object(a.b)()&&Object(a.d)()&&Object(a.a)()&&Object(a.c)()}function i(){if("object"===("undefined"==typeof NasExtWallet?"undefined":s(NasExtWallet)))return!0;var t=e.webExtensionWallet;return!!t&&String(t).includes("nebulas")}Object.defineProperty(r,"__esModule",{value:!0}),n.d(r,"isSupported",function(){return o}),n.d(r,"isWalletExtensionInstalled",function(){return i});var a=n(17),u=n(18);n.d(r,"isMobileDevice",function(){return u.c}),n.d(r,"isDesktopDevice",function(){return u.b}),n.d(r,"isDesktopChrome",function(){return u.a}),n.d(r,"isWeChat",function(){return u.e}),n.d(r,"isWalletMobileApp",function(){return u.d});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};i()&&!e.NasExtWallet&&(e.NasExtWallet={})},function(e,t,n){"use strict";function o(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:"";e=String(e),[a,u,s].indexOf(e)!==-1?l=e:console.error("[Nasa.js] Wrong env name!")}function i(){return l}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"MAIN",function(){return a}),n.d(t,"TEST",function(){return u}),n.d(t,"LOCAL",function(){return s}),n.d(t,"MAINNET",function(){return c}),n.d(t,"TESTNET",function(){return f}),n.d(t,"set",function(){return o}),n.d(t,"get",function(){return i});var a="mainnet",u="testnet",s="local",c=a,f=u,l=a},function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){var t=s.get();return f[t][e]||""}function a(){var e={};return e.callback=o("apiPayId"),e}r.d(t,"a",function(){return f}),r.d(t,"c",function(){return o}),r.d(t,"b",function(){return a});var u,s=r(3),c=i.config,f=(u={},n(u,s.LOCAL,{chainId:100,endpoint:"http://localhost:8685/",apiPayId:c.testnetUrl}),n(u,s.TEST,{chainId:1001,endpoint:"https://testnet.nebulas.io/",apiPayId:c.testnetUrl}),n(u,s.MAIN,{chainId:1,endpoint:"https://mainnet.nebulas.io/",apiPayId:c.mainnetUrl}),u)},function(e,t,r){"use strict";function n(){var e=a.length,t=Math.floor(Math.random()*e);return a[t]}function o(e){i.isValidAddr(e)&&(a.length=0,a.push(e))}r.d(t,"a",function(){return n}),r.d(t,"b",function(){return o});var i=r(0),a=["n1bCep7RbeCWQk9EQo48V3TuXEdZLCS7eTn","n1Q5ywsbu49mFV4RZSuq3URenNaxiWE4fxe","n1Qj7ynMBW77PCB4Q2EBrfRGQE73PR54VNe","n1YRjbJVRUP9kfpx92wHViJeU4owxLqzReZ","n1ZL7QLfm8UEbUqwEJ9zWBacN1yqk7biM3d"]},function(e,t,r){"use strict";function n(e){return e=String(e),e.replace(/^call:/i,"").trim().replace(/^error:/i,"").trim()}t.a=n},function(e,t,n){"use strict";function o(e){if("object"!==("undefined"==typeof e?"undefined":c(e)))console.error("[Nasa.js] Wrong param!");else{var t=Object.keys(e);t.indexOf(l)!==-1||f[l]||console.error("[Nasa.js] Missing default contract!"),t.forEach(function(t){var r=e[t],n=f[t]=f[t]||{};void[a.MAIN,a.TEST,a.LOCAL].forEach(function(e){var o=(r[e]||"").trim();o&&(Object(u.isValidAddr)(o)?n[e]=o:console.error("[Nasa.js] "+t+"."+e+" ("+o+") is not valid!"))})})}}function i(){var e=arguments.length>0&&arguments[0]!==r?arguments[0]:"",t=a.get(),n=f[e||l]||{},o=n[t]||"";return o}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"set",function(){return o}),n.d(t,"get",function(){return i});var a=n(3),u=n(0),s=n(22);n.d(t,"query",function(){return s.a});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f={},l="default"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(23);r.d(t,"getAddr",function(){return n.a})},function(e,t,r){r(10),e.exports=r(25)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=r(11),s=r(12),c=r(15),f=r(2),l=r(0),d=r(8),h=r(3),p=r(7),g=r(24),m={NebPay:i,nebPay:a,BigNumber:o,error:u.a,core:s,
tx:c,ua:f,util:l,user:d,env:h,contract:p};m.config=m.core.config,m.query=m.contract.query,m.call=m.tx.call,m.getTxResult=m.tx.getTxResult,m.ready=m.util.ready,m.ua.isNasNano=m.ua.isWalletMobileApp,m.checkTx=function(e,t){return console.warn("[Nasa.js] `.checkTx()` is deprecated, use `.getTxResult()` instead!"),m.tx.getTxResult(e,t)},Object(g.a)(),m.VERSION="0.2.1","undefined"!=typeof n&&(n.Nasa=m),t["default"]=m},function(e,t,r){"use strict";var n=r(1);r.d(t,"a",function(){return n})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);r.d(t,"config",function(){return n.a})},function(e,t,r){"use strict";function n(e){var t=[o.LOCAL,o.TEST,o.MAIN],r=["endpoint"];Object(i.a)(e,function(e,n){if(t.includes(n)&&"object"===("undefined"==typeof e?"undefined":u(e))){var o={};r.forEach(function(t){e[t]&&(o[t]=e[t])}),Object.assign(a.a[n],o)}})}t.a=n;var o=r(3),i=r(14),a=r(4),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,r){"use strict";function n(e,t){if("function"==typeof t)if(e&&"object"===("undefined"==typeof e?"undefined":o(e))){var r=Object.keys(e);r.forEach(function(r){var n=e[r];t(n,r)})}else Array.isArray(e)&&e.forEach(t)}t.a=n;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(16);r.d(t,"getTxResult",function(){return n.a});var o=r(21);r.d(t,"call",function(){return o.a})},function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&arguments[1]!==r?arguments[1]:{};return Object(l.isValidPayId)(e)?new Promise(function(r,n){function o(){a.queryPayInfo(e,Object(f.b)()).then(function(e){g++;var t={};try{t=JSON.parse(e)}catch(o){console.error("JSON parsing error")}if(m=t,0===t.code){var a=t.data||{};if(0===a.status){var s=void 0;a.execute_error&&(s=Object(d.a)(a.execute_error)),s||(s=u.TX_FAILED,"call"===a.type&&(s=u.CALL_FAILED),"deploy"===a.type&&(s=u.DEPLOY_FAILED)),r(i(a,s))}else 1===a.status?r(i(a)):2===a.status?h():n(new Error(u.TX_STATUS_UNKNOWN));var f=a.from;Object(l.isValidAddr)(f)&&Object(c.b)(f)}else{var p=t.msg||u.SERVER_ERROR;console.error(p),h()}},function(e){console.error(e.message||u.NETWORK_ERROR),h()})}function h(){var e=p.shift();e?setTimeout(o,1e3*e):n(new Error(u.TX_TIMEOUT))}var p=[10,5,7,8,15,15],g=0,m=void 0;if(t.noWait)o();else if(s.isWalletExtensionInstalled()){var v=p.shift();setTimeout(o,1e3*v)}else o()}):Promise.reject(new Error(u.INVALID_ARG))}function i(e,t){var r={type:e.type,nonce:e.nonce,gasPrice:e.gas_price||e.gasPrice,gasLimit:e.gas_limit||e.gasLimit,gasUsed:e.gas_used||e.gasUsed,chainId:e.chainId,from:e.from,to:e.to,value:e.value,hash:e.hash,status:e.status,timestamp:e.timestamp};if(t)r.execError=t;else{var n=e.execute_result;try{n=JSON.parse(n)}catch(o){}r.execResult=n}return r}t.a=o;var u=n(1),s=n(2),c=n(5),f=n(4),l=n(0),d=n(6)},function(t,r,n){"use strict";function o(){return"function"==typeof e.fetch}function i(){return"function"==typeof String.prototype.includes}function a(){return"function"==typeof Array.prototype.includes}function u(){return"function"==typeof Object.assign}n.d(r,"b",function(){return o}),n.d(r,"d",function(){return i}),n.d(r,"a",function(){return a}),n.d(r,"c",function(){return u})},function(e,t,r){"use strict";function n(){l=Object(c.a)(c.b)}function o(){return f||n(),l.isMobileDevice}function i(){return f||n(),!l.isMobileDevice}function a(){return f||n(),l.isChrome&&i()}function u(){return f||n(),"wechat"===l.browser}function s(){return/nasnanoapp/i.test(c.b.str)}r.d(t,"c",function(){return o}),r.d(t,"b",function(){return i}),r.d(t,"a",function(){return a}),r.d(t,"e",function(){return u}),r.d(t,"d",function(){return s});var c=r(19),f=!1,l=void 0},function(t,r,n){"use strict";function o(e){var t=e.str.toLowerCase(),r=a.str.includes;if(e.isSafari=/\bapple\b/i.test(navigator.vendor)&&/\bsafari\b/i.test(t),e.isChrome=r(t,"chrome")||r(t,"crios"),e.osVersion="",e.isIOS=/\(i(?:phone|pod|pad)\b/.test(t)||/\bios \d+\./.test(t),e.isIOS)e.isIPad=/\(ipad\b/.test(t),e.isIPod=/\(ipod\b/.test(t),e.isIPhone=/\(iphone\b/.test(t),e.osVersion=(/[\/; i]os[\/: _](\d+(?:[\._]\d+)?)[\._; ]/.exec(t)||[0,""])[1].replace("_",".");else{var n=r(t,"android"),o=/\badr\b/.test(t)&&/\blinux;\s*u;/.test(t),u=/juc\s*\(linux;\s*u;\s*\d+\.\d+/.test(t);e.isAndroid=n||o||u,o||u?e.osVersion=(/\badr[\/: ]?(\d+\.\d)\d*\b/.exec(t)||/\blinux;\s*u;\s*(\d+\.\d)\d*\b/.exec(t)||[0,""])[1]:e.osVersion=(/\bandroid(?:_os)?[\/: ]?(\d+\.\d)\d*\b/.exec(t)||[0,""])[1]}r(t,"windows phone")&&(e.isIOS=e.isAndroid=!1,e.osVersion=""),e.osVersion&&!r(e.osVersion,".")&&(e.osVersion+=".0"),e.isMobileDevice=!(!e.isIOS&&!e.isAndroid);var s="";r(t,"micromessenger")?s="wechat":r(t,"ucbrowser")||r(t,"ucweb")||r(t," uc applewebkit")?s="uc":r(t,"baiduhd")||r(t,"baiduboxapp")?s="baidu-app":r(t,"baidubrowser")?s="baidu-browser":r(t,"mqqbrowser")?s="m-qq-browser":r(t,"miuibrowser")?s="miui":r(t,"_weibo_")||r(t," weibo ")?s="weibo":r(t,"firefox")?s="firefox":r(t,"opera")?s="opera":r(t," edge/")?s="edge":r(t,"iemobile")?s="ie-mobile":e.isChrome?(s="chrome",e.isAndroid&&/\bwv\b/.test(t)&&(s="chrome-webview")):e.isSafari&&(s="safari"),"chrome"!==s&&(e.isChrome=!1),"safari"!==s&&(e.isSafari=!1);var c="",f="",l=/chrome[^\d]*([\.\d]*)[ ;\/]/.exec(t);if(l)c="chrome",f=i(l[1]);else{var d=/webkit[^\d]*([\.\d]*)\+*[ ;\/]/.exec(t);d&&(c="webkit",f=i(d[1]))}return c||(r(t,"webkit")?c="webkit":e.isIOS?c="webkit":e.isAndroid&&"m-qq-browser"===s&&(c="webkit"),"firefox"!==s||e.isIOS||(c="gecko"),"opera"===s&&!e.isIOS&&r(t,"presto")&&(c="presto")),"edge"===s?(c="edge",f=""):"ie-mobile"===s&&(c=f=""),e.browser=s,e.engine=c,e.engineVersion=f,e}function i(e,t){var r=e.split(".");return r.length=t||2,u.compact(r).join(".")}n.d(r,"b",function(){return s}),n.d(r,"a",function(){return o});var a=e.gearbox||{};a.str=a.str||{},a.str.includes=a.str.includes||function(e,t){return String(e).includes(t)};var u={compact:function(e){return e}},s={};s.isTouchDevice="ontouchstart"in e&&"ontouchmove"in e&&"ontouchend"in e,s.str=navigator.userAgent},function(e,r,n){"use strict";function o(){return"interactive"===t.readyState||"complete"===t.readyState}function i(){for(;c.length;){var e=c.shift();try{e()}catch(t){console.error(t)}}}function a(){return new Promise(function(e,t){function r(t){s.isWalletExtensionInstalled()?e(!0):t?e(!1):setTimeout(r,100,o())}s.isDesktopChrome()?s.isWalletExtensionInstalled()?e(!0):setTimeout(r,100,o()):e(!1)})}function u(e){"function"==typeof e&&(c.push(e),f||(f=a()),f.then(function(e){i()}))}r.a=u;var s=n(2),c=[],f=void 0},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&arguments[2]!==r?arguments[2]:[],o=arguments.length>3&&arguments[3]!==r?arguments[3]:{},p=Object(f.isValidAddr)(e)?e:Object(c.get)(e);return p?t&&Array.isArray(n)?new Promise(function(e,r){var c=p,f=o.value||"0",g={qrcode:{showQRCode:!1},listener:function(t,n){if("string"==typeof n){n=n.toLowerCase(),n.includes("rejected by user")&&r(new Error(i.TX_REJECTED_BY_USER)),(n.includes("stream terminated")||n.includes("refused_stream"))&&r(new Error(i.SERVER_ERROR)),n.includes("import wallet")&&r(new Error(i.EXTENSION_NO_WALLET));var o=Object(l.a)(n);r(new Error(o))}else n.error?r(new Error(i.PAY_ID_REG_FAILED)):n.txhash&&(h=n.txhash,e({payId:t,txHash:n.txhash}))}};g=Object.assign({},Object(s.b)(),g);var m=a.call(c,f,String(t),JSON.stringify(n),g);d=m,u.isWalletExtensionInstalled()||e({payId:m})}):Promise.reject(new Error(i.INVALID_ARG)):Promise.reject(new Error(i.INVALID_CONTRACT_ADDR))}t.a=o;var i=n(1),u=n(2),s=n(4),c=n(7),f=n(0),l=n(6),d=("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},""),h=""},function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&arguments[2]!==r?arguments[2]:[],o=arguments.length>3&&arguments[3]!==r?arguments[3]:{},l=Object(c.isValidAddr)(e)?e:Object(s.get)(e);if(!l)return Promise.reject(new Error(i.INVALID_CONTRACT_ADDR));if(!t||!Array.isArray(n))return Promise.reject(new Error(i.INVALID_ARG));var d=o.from||a.a();if(!Object(c.isValidAddr)(d))return Promise.reject(new Error(i.INVALID_USER_ADDR));var h=Object(u.c)("endpoint")+"v1/user/call",p={from:d,to:l,value:"0",nonce:"0",gasPrice:"1000000",gasLimit:"2000000",type:"call",contract:{"function":String(t),args:JSON.stringify(n)}};return fetch(h,{body:JSON.stringify(p),headers:{"content-type":"application/json"},method:"POST",cache:"no-cache",mode:"cors"}).then(function(e){if(e.ok)return e.json();throw new Error(i.INVALID_REQUEST)},function(){throw new Error(i.SERVER_ERROR)}).then(function(e){var t=e.result||{},r={estimateGas:t.estimate_gas},n=t.execute_err;if("contract check failed"===n)throw new Error(i.INVALID_CONTRACT);if(n&&"insufficient balance"!==n)r.execError=Object(f.a)(n);else{var o=t.result;try{o=JSON.parse(t.result)}catch(a){}r.execResult=o}return r})}t.a=o;var i=n(1),a=n(5),u=n(4),s=n(7),c=n(0),f=n(6)},function(t,r,n){"use strict";function o(){return Object(u.isWalletExtensionInstalled)()?"object"===("undefined"==typeof NasExtWallet?"undefined":s(NasExtWallet))&&"function"==typeof NasExtWallet.getUserAddress?new Promise(function(e,t){NasExtWallet.getUserAddress(function(t){e(t)}),setTimeout(function(){t(new Error(i.EXTENSION_NO_WALLET))},300)}):(e.postMessage({target:"contentscript",data:{},method:"getAccount"},"*"),new Promise(function(t,r){var n=function o(r){var n=(r.data||{}).data||{},i=n.account||"";i=String(i),i&&Object(a.isValidAddr)(i)&&(e.removeEventListener("message",o,!1),t(i))};e.addEventListener("message",n,!1),setTimeout(function(){r(new Error(i.EXTENSION_NO_WALLET))},300)})):Promise.reject(new Error(i.EXTENSION_NOT_INSTALLED))}r.a=o;var i=n(1),a=n(0),u=n(2),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,r,n){"use strict";function o(){t.addEventListener("DOMContentLoaded",function(){setTimeout(function(){i.getAddr().then(function(e){a.b(e)},function(){})},200)})}r.a=o;var i=n(8),a=n(5)},function(e,t){}])}}(window,document);